(function(e){function t(t){for(var a,s,r=t[0],c=t[1],l=t[2],u=0,m=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&m.push(o[s][0]),o[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},o={app:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var d=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0657":function(e,t,n){},"0f5a":function(e,t,n){},1:function(e,t){},"12cb":function(e,t,n){"use strict";var a=n("f2a3"),o=n.n(a);o.a},"16ee":function(e,t,n){"use strict";var a=n("d32c"),o=n.n(a);o.a},"1e0f":function(e,t,n){},"201a":function(e,t,n){},"260a":function(e,t,n){"use strict";var a=n("89af"),o=n.n(a);o.a},"267d":function(e,t,n){},"2c3f":function(e,t,n){"use strict";var a=n("0f5a"),o=n.n(a);o.a},"2ff5":function(e,t,n){"use strict";var a=n("201a"),o=n.n(a);o.a},"301e":function(e,t,n){"use strict";var a=n("db5c"),o=n.n(a);o.a},"32a4":function(e,t,n){"use strict";var a=n("7edb"),o=n.n(a);o.a},4363:function(e,t,n){"use strict";var a=n("adc8"),o=n.n(a);o.a},"43b9":function(e,t,n){e.exports=n.p+"img/tomika.ink.29e61ee1.svg"},5511:function(e,t,n){"use strict";var a=n("0657"),o=n.n(a);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("a026"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("tomika-nav-bar"),n("tomika-nav-drawer"),n("transition",{attrs:{name:"slide-fade"}},[e.$store.state.nav.discordPaneOpen?n("tomika-discord-pane"):e._e()],1),n("transition",{attrs:{name:"slide-fade"}},[e.$store.state.nav.twitchPaneOpen?n("tomika-twitch-pane"):e._e()],1),n(e.contentComponent,{tag:"component",staticClass:"tomika-content"}),n("tomika-popup-stack")],1)},i=[],s=(n("b0c0"),n("96cf"),n("1da1")),r=n("ecee"),c=n("ad3d");a["a"].component("font-awesome-icon",c["a"]),r["c"].add({icon:[5500,5500,[],"f000","M1368.5 352.5c-481 86-868 442-990 910-44 169-47 268-42 1579 3 1204 4 1232 24 1325 111 501 467 858 973 976 66 15 150 18 691 21 560 4 618 3 633-12 15-15 16-208 16-2396 0-1622-3-2386-10-2400-10-18-27-19-613-18-476 1-619 4-682 15zm905 2400 0 2026-407-5c-375-4-415-6-490-25-322-83-561-331-628-654-22-101-22-2589-1-2688 60-281 255-514 518-619 132-53 193-59 621-60l387-1 0 2026zM1454.5 1337.5c-63 12-159 60-210 105-105 91-157 220-149 372 4 79 9 100 41 164 47 97 118 168 215 216 67 33 84 37 171 40 79 3 107 0 160-18 217-73 348-284 311-500-43-257-287-429-539-379zM3160.5 343.5c-4 3-7 1087-7 2409 0 2181 1 2402 16 2408 27 10 803 6 899-4 406-46 764-293 959-660 25-47 58-126 75-175 63-188 61-138 61-1575 0-1147-2-1318-16-1391-99-521-496-914-1018-1004-70-12-178-15-526-15-240 0-440 3-443 7zm1068 2178c156 41 284 160 336 312 33 94 32 232-1 318-61 158-181 269-335 310-250 65-516-86-589-334-22-76-21-204 4-282 75-245 335-389 585-324z"],iconName:"nintendo-switch",prefix:"fa-tomika"}),r["c"].add({icon:[512,512,[],"f000","M272.5 6.6c-9.3-8.8-23.8-8.8-33.1 0C191.4 52.4 53.6 185 32 208.9c-19.3 21.3-32 49.4-32 80.6C0 360 54.9 415.7 123.5 416c36.7.1 69.7-15.7 92.5-40.9-.1 36.6-.8 52.3-52.4 75.4-14.1 6.3-22.2 21.6-18.7 36.6 3.3 14.5 16.3 24.8 31.2 24.8h159.4c15.5 0 29.2-10.8 32.1-26 2.8-14.6-4.8-29.2-18.4-35.2-51.6-23-52.8-38.1-53-75.6 23.4 25.8 57.5 41.8 95.3 40.8 67.5-1.7 120.7-56.5 120.7-124 0-32.2-12.2-61.2-32-83.1C458.4 185 320.6 52.4 272.5 6.6z"],iconName:"spade",prefix:"fa-tomika"}),r["c"].add({icon:[448,512,[],"f000","M242.2 8.3c-9.6-11.1-26.8-11.1-36.4 0l-200 232c-7.8 9-7.8 22.3 0 31.3l200 232c9.6 11.1 26.8 11.1 36.4 0l200-232c7.8-9 7.8-22.3 0-31.3l-200-232z"],iconName:"diamond",prefix:"fa-tomika"}),r["c"].add({icon:[512,512,[],"f000","M371.5 169.1C403.1 88.4 343.7 0 256 0c-87.8 0-147 88.5-115.5 169.1C65.7 159.2 0 217.3 0 292c0 68.5 55.5 124 124 124 36.5 0 69.3-15.8 92-40.9-.1 36.7-.8 52.4-53 75.6-13.8 6.1-21.4 21.1-18.3 35.9 3.1 14.8 16.2 25.4 31.3 25.4h160c15.1 0 28.2-10.6 31.3-25.4 3.1-14.8-4.5-29.7-18.3-35.9-51.6-23-52.8-38.1-53-75.6 22.7 25.1 55.5 40.9 92 40.9 68.5 0 124-55.5 124-124 0-74.8-65.8-132.8-140.5-122.9z"],iconName:"club",prefix:"fa-tomika"});var l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"tomika-nav-bar"}},[n("div",{class:{highlighted:e.$store.state.nav.navDrawerOpen},attrs:{id:"tomika-nav-bar-nav-button"},on:{click:function(e){}}},[n("img",{attrs:{src:e.tomikaInkLogoUrl,alt:""}})]),n("div",{attrs:{id:"tomika-quick-navigation"}}),n("div",{staticClass:"social-button",class:{highlighted:e.$store.state.nav.twitchPaneOpen},attrs:{id:"tomika-nav-bar-twitch-button"},on:{click:function(t){return e.$store.commit("nav/setTwitchPaneOpen")}}},[n("font-awesome-icon",{attrs:{icon:["fab","twitch"]}}),null!==e.$store.state.twitch.activeStream?n("svg",{staticClass:"notification",attrs:{viewBox:"0 0 1 1"}},[n("path",{attrs:{d:"M-1 0a1 1 0 0 0 2 0a1 1 0 0 0-2 0z"}}),n("path",{staticClass:"growingCircle",attrs:{d:"M-1 0a1 1 0 0 0 2 0a1 1 0 0 0-2 0z"}})]):e._e()],1),n("a",{staticClass:"social-button",attrs:{id:"tomika-nav-bar-twitter-button",href:"https://twitter.com/TomikaArome/",target:"_blank"}},[n("font-awesome-icon",{attrs:{icon:["fab","twitter"]}}),e.$store.state.nav.unreadTweets?n("svg",{staticClass:"notification",attrs:{viewBox:"0 0 1 1"}},[n("path",{attrs:{d:"M-1 0a1 1 0 0 0 2 0a1 1 0 0 0-2 0z"}})]):e._e()],1),n("div",{staticClass:"animatedDiscordPfpOnHover",class:{highlighted:e.$store.state.nav.discordPaneOpen},attrs:{id:"tomika-nav-bar-discord-button"},on:{click:function(t){return e.$store.commit("nav/setDiscordPaneOpen")}}},[e.$store.state.request.progress["/user/@me"]?n("div",[n("div",{staticClass:"displayName"},[e._v("Connecting")]),n("div",{staticClass:"tag"},[e._v("Please wait...")])]):e.$store.state.app.backEndUnreachable?n("div",[n("div",{staticClass:"displayName"},[e._v("Server unreachable")]),n("div",{staticClass:"tag"},[e._v("Please try again later")])]):e.$store.getters["user/connected"]?n("div",[n("div",{staticClass:"displayName"},[e._v(e._s(e.$store.getters["user/name"]))]),n("div",{staticClass:"tag"},[e._v("#"+e._s(e.$store.getters["user/discriminator"]))])]):n("div",[n("div",{staticClass:"displayName"},[e._v("Not connected")]),n("div",{staticClass:"tag"},[e._v("Connect here!")])]),n("tomika-discord-pfp",{attrs:{"discord-id":e.$store.getters["user/discordId"],avatar:e.$store.getters["user/avatar"]}})],1)])},d=[],u=(n("c975"),n("53ca")),m=n("c074"),p=n("f2d1"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"discord-pfp",style:{width:e.size+"px",height:e.size+"px"}},[n("img",{attrs:{src:e.url}}),e.animated?n("img",{staticClass:"animatedDiscordPfp",attrs:{src:e.animatedUrl}}):e._e()])},h=[],v=(n("99af"),n("ac1f"),n("5319"),{name:"tomika-discord-pfp",props:{size:{validator:function(e){return/^[0-9]+/.test(e)},default:32},discordId:{type:String,default:""},avatar:{type:String,default:"0"}},computed:{animated:function(){return null!==this.avatar&&/^a_/.test(this.avatar)},url:function(){return""===this.discordId?"https://cdn.discordapp.com/embed/avatars/".concat(this.avatar,".png"):"https://cdn.discordapp.com/avatars/".concat(this.discordId,"/").concat(this.avatar,".png")},animatedUrl:function(){return this.animated?this.url.replace(/png$/,"gif"):this.url}}}),g=v,b=(n("c3a0"),n("2877")),k=Object(b["a"])(g,f,h,!1,null,"e10942ea",null),C=k.exports;r["c"].add(m["c"],p["b"],p["c"]);var y={name:"tomika-nav",components:{tomikaDiscordPfp:C},data:function(){return{tomikaInkLogoUrl:n("43b9")}},mounted:function(){var e=this,t=function(e,t){window.addEventListener("click",(function(n){var a=n.target;while("object"===Object(u["a"])(a)&&null!==a&&"HTML"!==a.tagName){if(-1!==e.indexOf(a.id))return;a=a.parentNode}t()}))};t(["tomika-nav-drawer","tomika-nav-bar-nav-button"],(function(){e.$store.commit("nav/setNavDrawerOpen",!1)})),t(["tomika-discord-pane","tomika-nav-bar-discord-button"],(function(){e.$store.commit("nav/setDiscordPaneOpen",!1)})),t(["tomika-twitch-pane","tomika-nav-bar-twitch-button"],(function(){e.$store.commit("nav/setTwitchPaneOpen",!1)}))}},w=y,_=(n("4363"),Object(b["a"])(w,l,d,!1,null,"92445d06",null)),S=_.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},I=[],x={name:"tomika-nav-drawer"},N=x,E=Object(b["a"])(N,O,I,!1,null,"7d004976",null),P=E.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.$store.state.app.popupStack.length?n("div",{attrs:{id:"tomika-popup-stack"}},e._l(e.$store.state.app.popupStack,(function(t,a){return n("div",{key:a,staticClass:"popup-screen",on:{click:function(n){return e.clickPopupScreen(!t.noScreenClose,n)}}},[n("tomika-popup",e._b({},"tomika-popup",t,!1),[e._v(e._s(t.text))])],1)})),0):e._e()},$=[],R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tomika-popup",class:{borderless:e.$props.borderless}},[e.title?n("div",{staticClass:"tomika-popup-title-row"},[n("h2",{staticClass:"tomika-popup-title"},[e._v(e._s(e.title))]),n("div",{staticClass:"spacer"}),e.closeButtonAction?n("div",{staticClass:"tomika-popup-close-button",on:{click:e.closeButtonAction}},[n("font-awesome-icon",{attrs:{icon:"times"}})],1):e._e()]):e._e(),n("div",{staticClass:"tomika-popup-container"},[n("div",{staticClass:"tomika-popup-content"},[e.contentComponent?n(e.content,{tag:"component"}):n("div",{staticClass:"tomika-popup-text"},[e._t("default")],2),e.filteredChoices.length?n("div",{staticClass:"tomika-popup-choices"},e._l(e.filteredChoices,(function(t,a){return n("button",{key:a,on:{click:function(n){return t.buttonAction(e.closeButtonAction)}}},[e._v(" "+e._s(t.buttonText)+" ")])})),0):e._e()],1)])])},G=[],T=(n("4de4"),n("2f62")),M={"back-end-url":"https://ec2.tomika.ink"},D={namespaced:!0,state:{backEnd:M["back-end-url"],backEndUnreachable:!0,popupStack:[],appWidth:window.innerWidth,appHeight:window.innerHeight-40},getters:{},mutations:{setBackEndUnreachable:function(e,t){"boolean"!==typeof t&&(t=!0),e.backEndUnreachable=t},pushPopup:function(e,t){t.popupComponent||(t.popupComponent="div"),e.popupStack.push(t)},popPopup:function(e){e.popupStack.pop()},setAppSize:function(e,t){e.appWidth=t.w,e.appHeight=t.h}},actions:{}},A=(n("7db0"),n("4160"),n("d81d"),n("13d5"),n("b64b"),n("07ac"),n("b85c")),U=n("5530"),B=n("8055"),L=n.n(B);n("d3b7");function F(e){return new Promise((function(t){setTimeout(t,e)}))}var q={clickCard:function(e,t){e.state.cards.socket.emit("gameEvent",{gameEventType:"playCard",cardId:t.cardId})},components:{options:"tomika-cards-ouistiti-options"},actions:{totalCardCount:function(e,t){var n=e.commit;n("setGameModuleData",{key:"totalCardCount",value:t.totalCardCount})}}},z={"game-module-ouistiti":q},H={namespaced:!0,state:{socket:null,games:[],players:{},cards:{},cardGroups:{},gameModuleId:"game-module-ouistiti",gameModuleData:{},inProgress:!1,round:1,phase:"playing",selfId:"",hostId:"",playerIdOrder:[],selectedGameId:"",gameSelectionStep:0,gameSelectionPrevStep:0,chosenNickname:"",retrievedDiscordName:!1,password:"",joinGameError:"",nicknameError:"",leftDrawerVisible:!0,totalCardCount:32,totalRoundCount:18,colours:{red:"hsl(0,75%,60%)",yellow:"hsl(60,75%,60%)",green:"hsl(120,75%,60%)",cyan:"hsl(180,75%,60%)",blue:"hsl(240,75%,60%)",magenta:"hsl(300,50%,60%)",white:"hsl(0,0%,60%)",black:"hsl(0,0%,20%)"}},getters:{selectedGame:function(e){return e.games.find((function(t){return e.selectedGameId===t.id}))},inGame:function(e,t){return t.playerCount>0},self:function(e){return e.players[e.selfId]||{}},host:function(e){return e.players[e.hostId]||{}},isHost:function(e){return e.selfId===e.hostId},playerCount:function(e){return e.playerIdOrder.length},playerOrder:function(e){return e.playerIdOrder.reduce((function(t,n){return e.players[n]&&t.push(e.players[n]),t}),[])},takenColours:function(e){return Object.keys(e.colours).filter((function(t){return Object.values(e.players).reduce((function(n,a){return n||a.id!==e.selfId&&a.colour===t}),!1)}))},cardGroupCards:function(e){return function(t){var n=e.cardGroups[t];return n?n.ordered?n.cardIdOrder.filter((function(t){return e.cards[t]})).map((function(t){return Object(U["a"])({cardId:t},e.cards[t])})):Object.keys(e.cards).filter((function(n){return e.cards[n]&&e.cards[n].cardGroupId===t})).map((function(t){return Object(U["a"])({cardId:t},e.cards[t])})).sort((function(){return 0})):[]}},gameModule:function(e){return z[e.gameModuleId]||{components:{},actions:{}}}},mutations:{reset:function(e){e.games=[],e.selectedGameId="",e.selfId="",e.hostId="",e.gameModuleId="game-module-generic",e.inProgress=!1,e.players=[],e.playerIdOrder=[],e.trump="",e.totalCardCount=32,e.totalRoundCount=18},setSocket:function(e,t){e.socket=t},setSelectedGameId:function(e,t){e.selectedGameId=t},setGames:function(e,t){e.games=t},setInProgress:function(e,t){e.inProgress=t},setGameModuleId:function(e,t){e.gameModuleId!==t&&z[t]&&(e.gameModuleId=t,e.gameModuleData={})},setGameModuleData:function(e,t){var n=t.key,o=t.value;"undefined"===typeof n?e.gameModuleData={}:"undefined"===typeof o?a["a"].delete(e.gameModuleData,n):a["a"].set(e.gameModuleData,n,o)},setPlayers:function(e,t){e.players=t.reduce((function(e,t){return e[t.id]=t,e}),{})},addPlayer:function(e,t){a["a"].set(e.players,t.id,t)},removePlayer:function(e,t){a["a"].delete(e.players,t)},setPlayerIdOrder:function(e,t){e.playerIdOrder=t},setSelfId:function(e,t){e.selfId=t},setHostId:function(e,t){e.hostId=t},setNickname:function(e,t){var n=t.playerId,a=t.newNickname;e.players[n]&&(e.players[n].nickname=a)},setColour:function(e,t){var n=t.playerId,a=t.newColour;e.players[n]&&(e.players[n].colour=a)},setCard:function(e,t){if("string"===typeof t.cardId){var n=Object.assign({},e.cards[t.cardId]||{cardId:t.cardId});["suit","value","faceUp","cardGroupId","playable"].forEach((function(e){"undefined"!==typeof t[e]&&(n[e]=t[e])})),a["a"].set(e.cards,t.cardId,n)}},deleteCard:function(e,t){a["a"].delete(e.cards,t)},setCardGroup:function(e,t){if("string"===typeof t.cardGroupId){var n=Object.assign({},e.cardGroups[t.cardGroupId]||{cardId:t.cardGroupId});["role","playerId","ordered","cardIdOrder"].forEach((function(e){"undefined"!==typeof t[e]&&(n[e]=t[e])})),a["a"].set(e.cardGroups,t.cardGroupId,n)}},deleteCardGroup:function(e,t){a["a"].delete(e.cardGroups,t)},gameSelectionChangeStep:function(e,t){0===t&&(e.selectedGameId=""),e.password="",e.joinGameError="",e.gameSelectionPrevStep=e.gameSelectionStep,e.gameSelectionStep=t},setJoinGameError:function(e,t){e.joinGameError=t},setNicknameError:function(e,t){e.nicknameError=t},setChosenNickname:function(e,t){e.chosenNickname=t},setRetrievedDiscordName:function(e){e.retrievedDiscordName=!0},setLeftDrawerVisible:function(e,t){e.leftDrawerVisible=t}},actions:{connect:function(e){try{e.commit("setSocket",L()("".concat(e.rootState.app.backEnd,"/cards"))),e.state.socket.on("connect",(function(){e.commit("gameSelectionChangeStep",0)})),e.state.socket.on("connect_error",(function(){e.commit("gameSelectionChangeStep",-1)})),e.state.socket.on("disconnect",(function(){e.commit("reset")})),e.state.socket.on("listGames",(function(t){if(e.state.selectedGameId){var n=t.find((function(t){return t.id===e.state.selectedGameId}));n&&n.joinable||e.commit("gameSelectionChangeStep",0)}e.commit("setGames",t)})),e.state.socket.on("joinGame",(function(t){e.commit("gameSelectionChangeStep",0),e.commit("setPlayers",t.players),e.commit("setPlayerIdOrder",t.playerIdOrder),e.commit("setSelfId",t.selfId),e.commit("setHostId",t.hostId)})),e.state.socket.on("joinGameError",(function(t){e.commit("setJoinGameError",t)})),e.state.socket.on("leaveGame",(function(){e.commit("reset"),e.state.socket.emit("listGames")})),e.state.socket.on("addPlayer",(function(t){e.commit("addPlayer",t.player),e.commit("setPlayerIdOrder",t.playerIdOrder)})),e.state.socket.on("removePlayer",(function(t){e.commit("removePlayer",t.id),e.commit("setPlayerIdOrder",t.playerIdOrder),e.commit("setHostId",t.hostId)})),e.state.socket.on("setNickname",(function(t){var n=t.id,a=t.newNickname;e.commit("setNicknameError",""),e.commit("setNickname",{playerId:n,newNickname:a})})),e.state.socket.on("nicknameError",(function(t){e.commit("setNicknameError",t),setTimeout((function(){e.commit("setNicknameError","")}),1e4),e.commit("setChosenNickname",e.getters.self.nickname)})),e.state.socket.on("setColour",(function(t){var n=t.id,a=t.newColour;e.commit("setColour",{playerId:n,newColour:a})})),e.state.socket.on("reorderPlayers",(function(t){var n=t.playerIdOrder;e.commit("setPlayerIdOrder",n)})),e.state.socket.on("setGameModule",(function(t){var n=t.gameModuleId;e.commit("setGameModuleId",n)})),e.state.socket.on("gameEvent",function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){var a,o,i,s,r,c,l,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n instanceof Array){t.next=2;break}return t.abrupt("return");case 2:a=Object(A["a"])(n),t.prev=3,a.s();case 5:if((o=a.n()).done){t.next=29;break}i=o.value,t.t0=i.actionType,t.next="start"===t.t0?10:"cardGroup"===t.t0?13:"card"===t.t0?15:"playableCards"===t.t0?18:20;break;case 10:return e.commit("setInProgress",!0),e.commit("setLeftDrawerVisible",!1),t.abrupt("break",24);case 13:return e.commit("setCardGroup",i),t.abrupt("break",24);case 15:for(e.commit("setCard",i),s=0,r=Object.keys(i.cardGroupCardIdOrder||{});s<r.length;s++)c=r[s],e.commit("setCardGroup",{cardGroupId:c,cardIdOrder:i.cardGroupCardIdOrder[c]});return t.abrupt("break",24);case 18:for(l=0,d=Object.keys(e.state.cards);l<d.length;l++)u=d[l],e.commit("setCard",{cardId:u,playable:i.playableCards.indexOf(u)>-1});return t.abrupt("break",24);case 20:if(!("string"===typeof i.actionType&&i.actionType.length>0&&"function"===typeof e.state.gameModule.actions[i.actionType])){t.next=23;break}return t.next=23,e.state.gameModule.actions[i.actionType](e,i);case 23:return t.abrupt("break",24);case 24:if(!i.delayNextAction){t.next=27;break}return t.next=27,F(100);case 27:t.next=5;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t["catch"](3),a.e(t.t1);case 34:return t.prev=34,a.f(),t.finish(34);case 37:case"end":return t.stop()}}),t,null,[[3,31,34,37]])})));return function(e){return t.apply(this,arguments)}}())}catch(t){}},disconnect:function(e){var t=e.state,n=e.commit;t.socket.emit("leaveGame"),t.socket.disconnect(),n("reset")}}},K=(n("4d63"),n("25f0"),{namespaced:!0,state:{content:null,navDrawerOpen:!1,discordPaneOpen:!1,twitchPaneOpen:!1,twitterPaneOpen:!1,contentData:[{name:"404",title:"Content not found",component:"tomika-content-404"},{name:"Home",title:"Home of Tomika",pathname:"/",component:"tomika-content-index"},{name:"Admin tools",title:"Admin tools",pathname:/^\/admin(\/[\w-]+)?$/,component:"tomika-content-admin",auth:"perm.admin.access"},{name:"User settings",title:"User settings",pathname:"/user",component:"tomika-content-user",auth:function(e){return e.getters["user/connected"]}},{name:"Stream controller",title:"Stream controller",pathname:"/stream-control",component:"tomika-content-stream-control",auth:function(){return!1}},{name:"Cards",title:"Cards",pathname:"/cards",component:"tomika-content-cards"}]},getters:{},mutations:{setContent:function(e,t){"object"===Object(u["a"])(t)&&(e.content=t)},setNavDrawerOpen:function(e,t){"boolean"!==typeof t&&(t=!e.navDrawerOpen),e.navDrawerOpen=t},setDiscordPaneOpen:function(e,t){"boolean"!==typeof t&&(t=!e.discordPaneOpen),e.discordPaneOpen=t},setTwitchPaneOpen:function(e,t){"boolean"!==typeof t&&(t=!e.twitchPaneOpen),e.twitchPaneOpen=t},setTwitterPaneOpen:function(e,t){"boolean"!==typeof t&&(t=!e.twitterPaneOpen),e.twitterPaneOpen=t,e.unreadTweets=!1}},actions:{switchContent:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,o,i,s,r,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=e.state,o=e.commit,i=t.pathname,s=t.component,r=t.pushState,void 0===r&&(r=!0),c=void 0,"undefined"!==typeof i?("/"!==i&&(i=i.replace(/\/$/,"")),c=a.contentData.find((function(e){return"object"===Object(u["a"])(e.pathname)&&e.pathname instanceof RegExp?e.pathname.test(i):e.pathname===i}))):"undefined"!==typeof s&&(c=a.contentData.find((function(e){return e.component===s}))),"undefined"===typeof i&&c&&"string"!==typeof c.pathname&&(c=void 0),c||(c=a.contentData.find((function(e){return"tomika-content-404"===e.component}))),r?window.history.pushState(null,null,i):window.history.replaceState(null,null,i),document.querySelector("title").innerText="function"===typeof c.title?c.title(i,a):c.title,o("setContent",c);case 10:case"end":return n.stop()}}),n)})))()}}}),W={namespaced:!0,state:{progress:{}},getters:{},mutations:{setProgress:function(e,t){t.progress?a["a"].set(e.progress,t.path,!0):a["a"].set(e.progress,t.path,!1)}},actions:{}},Z={namespaced:!0,state:{apiClientId:"46rjndwt9swkut47ardl8e2pjlbek7",userId:42788803,userName:"TomikaArome",channelUrl:"https://twitch.tv/tomikaarome/",updateFrequency:6e4,activeStream:null},getters:{},mutations:{setActiveStream:function(e,t){"object"!==Object(u["a"])(t)&&(t=null),e.activeStream=t}},actions:{}},V={namespaced:!0,state:{twitterHandle:"TomikaArome",twitterUrl:"https://twitter.com/TomikaArome"},getters:{},mutations:{},actions:{}},Y={namespaced:!0,state:{o:null},getters:{connected:function(e){return null!==e.o&&e.o.connected},_id:function(e){return null===e.o||"object"!==Object(u["a"])(e.o.info)||"string"!==typeof e.o.info._id?"":e.o.info._id},discordId:function(e){return null===e.o||"object"!==Object(u["a"])(e.o.info)||"string"!==typeof e.o.info.discordId?"":e.o.info.discordId},name:function(e){return null===e.o||"object"!==Object(u["a"])(e.o.info)||"string"!==typeof e.o.info.name?"Guest":e.o.info.name},discriminator:function(e){return null===e.o||"object"!==Object(u["a"])(e.o.info)||"string"!==typeof e.o.info.discriminator?"0000":e.o.info.discriminator},avatar:function(e,t){return null===e.o||"object"!==Object(u["a"])(e.o.info)||"string"!==typeof e.o.info.avatar?String(t.discriminator%5):e.o.info.avatar},hasPermission:function(e){return function(t){return"string"===typeof t&&null!==e.o&&"object"===Object(u["a"])(e.o.permissions)&&e.o.permissions instanceof Array&&e.o.permissions.reduce((function(e,n){return e||t.substring(0,n.length)===n}),!1)}},splatnetConnected:function(e){return null!==e&&"object"===Object(u["a"])(e.o.splatnet)&&e.o.splatnet.connected},splatnetManual:function(e){return null!==e&&"object"===Object(u["a"])(e.o.splatnet)&&e.o.splatnet.manual},splatnetConnectedAuto:function(e,t){return t.splatnetConnected&&!t.splatnetManual},splatnetCookie:function(e){return null===e||"object"!==Object(u["a"])(e.o.splatnet)?"":String(e.o.splatnet.cookie)},splatnetCookieExpired:function(e){return null!==e&&"object"===Object(u["a"])(e.o.splatnet)&&"boolean"===typeof e.o.splatnet.cookieExpired&&e.o.splatnet.cookieExpired}},mutations:{setUser:function(e,t){"object"===Object(u["a"])(t)&&"boolean"===typeof t.connected||(t=null),e.o=t}}};a["a"].use(T["a"]);var J=new T["a"].Store({state:{},getters:{},mutations:{},actions:{},modules:{app:D,cards:H,nav:K,request:W,twitch:Z,twitter:V,user:Y}});r["c"].add(m["G"]);var X={name:"tomika-popup",data:function(){return{selectedTab:0}},props:{title:String,contentComponent:Object,borderless:{type:Boolean,default:!1},closeButtonAction:{type:Function,default:function(){J.commit("app/popPopup")}},prompt:String,choices:Array},computed:{content:function(){return this.contentComponent||"div"},filteredChoices:function(){var e=this.choices?this.choices.filter((function(e){return"function"===typeof e.buttonAction})):[];return 0===e.length&&e.push({buttonText:"OK",buttonAction:function(e){e()}}),e}}},Q=X,ee=(n("c8c2"),Object(b["a"])(Q,R,G,!1,null,"236026d7",null)),te=ee.exports,ne={name:"tomika-popup-stack",components:{tomikaPopup:te},methods:{clickPopupScreen:function(e,t){e&&/popup-screen/.test(t.target.className)&&("function"===typeof e?e():this.$store.commit("app/popPopup"))}}},ae=ne,oe=(n("2ff5"),Object(b["a"])(ae,j,$,!1,null,"ac445d18",null)),ie=oe.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tomika-pane",attrs:{id:"tomika-discord-pane"}},[n("svg",{staticClass:"chevron",attrs:{viewBox:"0 0 3 3"}},[n("path",{attrs:{d:"M6 3l-3-3l-3 3"}})]),e.$store.state.request.progress["/user/@me"]?[n("div",{staticClass:"title",staticStyle:{margin:"0"}},[e._v("Connecting...")])]:e.$store.state.app.backEndUnreachable?[n("div",{staticClass:"title"},[e._v("Tomika.ink's server could not be reached")]),n("p",[e._v("The server is required for Discord authentication and other resources connected to the site.")]),e._m(0),n("p",{staticStyle:{"font-weight":"bold",color:"hsl(0,25%,50%)"}},[e._v("Please note that access to the server may be temperamental, as the site is still in development and there is not yet a huge need for the server to be working 24/7.")])]:e.$store.getters["user/connected"]?[n("tomika-discord-pfp",{attrs:{size:"64","discord-id":e.$store.getters["user/discordId"],avatar:e.$store.getters["user/avatar"]}}),n("div",{staticClass:"displayName"},[e._v(e._s(e.$store.getters["user/name"]))]),n("div",{staticClass:"tag"},[e._v("#"+e._s(e.$store.getters["user/discriminator"]))]),n("div",{staticClass:"button-list"},[e.$store.getters["user/hasPermission"]("perm.user.settings.view")?n("button",{on:{click:e.clickSettingsButton}},[n("font-awesome-icon",{attrs:{icon:"cogs"}}),e._v("Settings ")],1):e._e(),n("button",{staticClass:"notFilled",on:{click:e.clickDisconnectButton}},[n("font-awesome-icon",{attrs:{icon:"lock"}}),e._v("Disconnect ")],1)])]:[[n("div",{staticClass:"title"},[e._v("Connect your Discord account to tomika.ink!")]),n("div",{staticClass:"checklist"},[n("div",[n("div",{staticClass:"info-blue"},[n("font-awesome-icon",{attrs:{icon:"info-circle"}})],1),n("div",[e._v("Disclaimer: Connecting your Discord account is already possible but not yet necessary. Please do not yet bother unless I have specifically asked you to and you know what you're connecting for.")])])]),n("div",{staticClass:"button-list"},[n("button",{staticClass:"connect-button",on:{click:e.clickConnectButton}},[n("font-awesome-icon",{attrs:{icon:["fab","discord"]}}),e._v("Connect now! ")],1)])]]],2)},re=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("Try refreshing the page later, or contact "),n("a",{attrs:{target:"_blank",href:"http://twitter.com/TomikaArome"}},[e._v("@TomikaArome")]),e._v(" on Twitter or Tomika#4051 on Discord.")])}],ce={"back-end-url":"https://ec2.tomika.ink"},le=ce["back-end-url"],de=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={},n||(n={}),n.credentials||(n.credentials="include"),n.method=n.method?n.method.toUpperCase():"GET",n.body&&(n.headers||(n.headers={}),n.headers["Content-Type"]="application/json","object"===Object(u["a"])(n.body)&&(n.body=JSON.stringify(n.body))),J.commit("request/setProgress",{path:t,progress:!0}),e.prev=6,e.next=9,fetch(le+t,n);case 9:if(o=e.sent,J.commit("app/setBackEndUnreachable",!1),!o.ok){e.next=24;break}return e.prev=12,e.next=15,o.json();case 15:a=e.sent,e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](12),a.ok=!1,a.error={code:"CLIENTFETCH_INVALID_JSON",message:"The back-end received the request but the response was not valid JSON"};case 22:e.next=26;break;case 24:a.ok=!1,a.error={code:"CLIENTFETCH_OK_FALSE",message:"The fetch API sent back an error"};case 26:a.fetch=o,e.next=34;break;case 29:e.prev=29,e.t1=e["catch"](6),J.commit("app/setBackEndUnreachable"),a.ok=!1,a.error={code:"CLIENTFETCH_BACK_END_UNREACHABLE",message:"The back-end could not be reached"};case 34:return J.commit("request/setProgress",{path:t}),e.abrupt("return",a);case 36:case"end":return e.stop()}}),e,null,[[6,29],[12,18]])})));return function(t,n){return e.apply(this,arguments)}}(),ue=de,me=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue("/user/me");case 2:t=e.sent,t.ok&&J.commit("user/setUser",t.result);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue("/user/disconnect",{method:"POST"});case 2:t=e.sent,t.ok&&J.commit("user/setUser");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue("/user/splatnet/connect-redirect",{method:"POST",body:{redirectUri:t}});case 2:if(n=e.sent,!n.ok){e.next=8;break}return e.next=6,me();case 6:e.next=10;break;case 8:if("object"!==Object(u["a"])(n.error)||!n.error.code){e.next=10;break}return e.abrupt("return",n.error);case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue("/user/splatnet/disconnect",{method:"POST"});case 2:if(t=e.sent,!t.ok){e.next=6;break}return e.next=6,me();case 6:return e.abrupt("return",t.ok);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(/iksm_session=[0-9a-f]+(.*)expires=([^;]+)(;|$)/.test(t)){e.next=2;break}return e.abrupt("return","SPLATNET_COOKIE_BADLY_FORMED");case 2:return e.next=4,ue("/user/splatnet/cookie",{method:"POST",body:{cookie:t}});case 4:if(n=e.sent,!n.ok){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",n.error.code);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();r["c"].add(m["d"],m["u"],p["a"],m["t"],m["j"]);var ge={name:"tomika-discord-pane",components:{tomikaDiscordPfp:C},mounted:function(){this.$parent.positionPane("tomika-nav-bar-discord-button","tomika-discord-pane")},methods:{clickConnectButton:function(){window.open("".concat(this.$store.state.app.backEnd,"/user/connect"))},clickDisconnectButton:function(){pe(),this.$store.commit("nav/setDiscordPaneOpen",!1)},clickSettingsButton:function(){this.$store.dispatch("nav/switchContent",{pathname:"/user"}),this.$store.commit("nav/setDiscordPaneOpen",!1)}}},be=ge,ke=(n("8be9"),Object(b["a"])(be,se,re,!1,null,"11c17ec6",null)),Ce=ke.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tomika-pane",attrs:{id:"tomika-twitch-pane"}},[n("svg",{staticClass:"chevron",attrs:{viewBox:"0 0 3 3"}},[n("path",{attrs:{d:"M6 3l-3-3l-3 3"}})]),n("div",{attrs:{id:"mini-twitch-player"}}),null!==e.$store.state.twitch.activeStream?[n("div",{staticClass:"image-row"},[n("div",[n("img",{staticClass:"box-art",attrs:{src:e.activeStream.game.box_art_url}})]),n("div",[n("div",{staticClass:"status"},[null!==e.activeStream?n("svg",{staticClass:"notification",attrs:{viewBox:"0 0 1 1"}},[n("path",{attrs:{d:"M-1 0a1 1 0 0 0 2 0a1 1 0 0 0-2 0z"}}),n("path",{staticClass:"growingCircle",attrs:{d:"M-1 0a1 1 0 0 0 2 0a1 1 0 0 0-2 0z"}})]):e._e(),e._v("Currently live!")]),n("div",{staticClass:"game"},[n("span",{staticClass:"playing"},[e._v("Playing")]),e._v(" "+e._s(e.activeStream.game.name))]),n("div",{staticClass:"title"},[e._v(e._s(e.activeStream.title))]),n("div",[n("button",{staticClass:"watch-button",on:{click:e.redirectToChannel}},[n("font-awesome-icon",{attrs:{icon:["fab","twitch"]}}),e._v("Watch on channel! ")],1)])])])]:[n("div",{staticClass:"status"},[e._v("Not currently live")]),n("div",{staticClass:"info"},[e._v("You can usually catch me streaming on some evenings throughout the week, a mix of Splatoon (Usually Kemistry practice) and other games. Follow to be notified when I go live!")]),n("div",[n("button",{staticClass:"watch-button",on:{click:e.redirectToChannel}},[n("font-awesome-icon",{attrs:{icon:["fab","twitch"]}}),e._v("Go to channel! ")],1)])]],2)},we=[];n("0cfe");r["c"].add(p["b"]),a["a"].component("font-awesome-icon",c["a"]);var _e={name:"tomika-twitch-pane",computed:{activeStream:function(){return this.$store.state.twitch.activeStream}},mounted:function(){this.$parent.positionPane("tomika-nav-bar-twitch-button","tomika-twitch-pane")},methods:{redirectToChannel:function(){window.open(this.$store.state.twitch.channelUrl,"_blank")}}},Se=_e,Oe=(n("32a4"),Object(b["a"])(Se,ye,we,!1,null,"1192f40d",null)),Ie=Oe.exports,xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"tomika-content-404"}},[n("div",[e._v("The content you were looking for does not exist")]),n("div",{staticClass:"button-list"},[n("button",{on:{click:e.clickHomeButton}},[n("font-awesome-icon",{attrs:{icon:"home"}}),e._v("Return home ")],1)])])},Ne=[];r["c"].add(m["s"]);var Ee={name:"tomika-content-404",methods:{clickHomeButton:function(){this.$store.dispatch("nav/switchContent",{pathname:"/"})}}},Pe=Ee,je=(n("2c3f"),Object(b["a"])(Pe,xe,Ne,!1,null,"0c125331",null)),$e=je.exports,Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"tomika-content-unauthorized"}},[n("div",[e._v("You don't have the permission to access this content")]),n("div",{staticClass:"button-list"},[n("button",{on:{click:e.clickHomeButton}},[n("font-awesome-icon",{attrs:{icon:"home"}}),e._v("Return home ")],1),e.$store.getters["user/connected"]?e._e():n("button",{staticClass:"connect-button",on:{click:e.clickConnectButton}},[n("font-awesome-icon",{attrs:{icon:["fab","discord"]}}),e._v("Connect now! ")],1)])])},Ge=[];r["c"].add(m["s"],p["a"]);var Te={name:"tomika-content-unauthorized",methods:{clickHomeButton:function(){this.$store.dispatch("nav/switchContent",{pathname:"/"})},clickConnectButton:function(){window.open("".concat(this.$store.state.app.backEnd,"/user/connect"))}}},Me=Te,De=(n("260a"),Object(b["a"])(Me,Re,Ge,!1,null,"15403646",null)),Ae=De.exports,Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"tomika-content-index"}},[n("tomika-image-banner",{attrs:{images:e.bannerImages}}),e._m(0),n("tomika-index-section",{attrs:{title:"Ayo! I'm Tomika!",image:"/images/art/Tomika.png","image-on-left":"","background-color":"hsl(180,35%,25%)"}},[n("p",[e._v("I'm Tomika! A "+e._s(e.age)+" year old enthusiastic Splatoon 2 player, artist and developer. This website is a little presentation to myself, my projects and my life! I have a large variety of hobbies, most of which are creative.")]),n("p",[e._v("Most of my friends are from the Splatoon community, with many coming from the UK. Splatoon has done plenty to shape my life and my hobbies, and so I am extremely thankful towards the game and the friends who are always there for me!")]),n("div",{staticClass:"name-origin"},[n("div",[e._v("Origin of my names:")]),n("h2",e._l(e.nameFragments,(function(t,a){return n("span",{key:a,class:{highlighted:-1!==e.nameOrigin[e.nameIndex].fragments.indexOf(a)}},[e._v(e._s(t))])})),0),n("div",[e._v(e._s(e.nameOrigin[e.nameIndex].description))])]),n("p",{staticClass:"caption"},[e._v("Pictured: Self made art (Chibi-October #7) of my squid OC, named after myself.")])]),n("tomika-index-section",{attrs:{title:"Competitive Splatoon with Kemistry","background-color":"hsl(0,35%,25%)","background-image":"/images/banners/i65-side-view.jpg",image:"/images/kemistry-logo.png"}},[n("p",[e._v("One of my most treasured things is my competitive Splatoon team, Kemistry. These lovable eejits are more than just teammates to me, they are close friends and have given me more enjoyable times this last year than I've experienced the entire rest of my life!")]),n("p",[e._v("We are currently on competitive break, waiting for this summer to resume competitive activities. We do still play Splatoon together though more often in a casual setting.")]),n("p",[e._v("Our roster before our we went on hiatus was "),n("tw-link",{attrs:{handle:"SplZarinie"}},[e._v("Zari")]),e._v(" as captain, as well as "),n("tw-link",{attrs:{handle:"benkiwi2355"}},[e._v("Benji")]),e._v(", "),n("tw-link",{attrs:{handle:"mintymochaa"}},[e._v("Cynthie")]),e._v(", "),n("tw-link",{attrs:{handle:"mcprincessdiary"}},[e._v("Whisper")]),e._v(" and "),n("tw-link",{attrs:{handle:"Lewieboy124"}},[e._v("Lew")]),e._v(" and of course myself. Our former members are still treasured just as much, namely "),n("tw-link",{attrs:{handle:"Jackster1676"}},[e._v("Jack")]),e._v(", "),n("tw-link",{attrs:{handle:"SephSquid"}},[e._v("Seph")]),e._v(" and "),n("tw-link",{attrs:{handle:"MooDeeStreams"}},[e._v("MooDee")]),e._v(". We also have many friends from within the community who we love chatting and playing with!")],1),n("p",[e._v("We've played many hours together, Splatoon and other games, participated in tourneys and LANs and met up several times.")]),n("p",[e._v("Be sure to join "),n("a",{attrs:{href:"https://discord.gg/y4vkuMB",target:"_blank"}},[e._v("our Discord server")]),e._v(" to join in on the fun!")]),n("p",{staticClass:"caption"},[e._v("Pictured: MooDee, Zari, Cynthie and I playing on stage at the Splatoon UK championship 2019 at Insomnia 65. Credit to "),n("tw-link",{attrs:{handle:"SephSquid"}}),e._v(" for the picture.")],1)]),n("tomika-index-section",{attrs:{title:"Drawing","background-color":"hsl(90,45%,25%)",image:"/images/art/chibi-trio.png","image-on-left":""}},[n("p",[e._v("One of my most creative activities is drawing. I draw mostly digital art, and generally a more cute and fun style with plenty of colours. Most of my art is Splatoon related, but I plan to branch out on to more given more time.")]),n("p",[e._v("My most ambitious project to date was Chibi-October, a Inktober-like challenge I set myself where I had to release one or more chibi-styled characters every day of the month of October 2019.")]),n("p",[e._v("It was a very fulfilling challenge for me as it helped me draw more consistently, develop a recognisable style, and above all, give back to the many close friends I have in the Splatoon community by drawing their characters!")]),n("p",{staticClass:"caption"},[e._v("Pictured, from left to right: Felicity ("),n("tw-link",{attrs:{handle:"mintymochaa"}}),e._v("'s OC, Chibi-October #25), Callie ("),n("tw-link",{attrs:{handle:"mcprincessdiary"}}),e._v(", Chibi-October #14), Lucy ("),n("tw-link",{attrs:{handle:"heavysplatlings"}}),e._v(", Chibi-October #31)")],1)]),n("tomika-index-section",{attrs:{title:"Streaming","background-color":"hsl(261,35%,25%)"}},[n("p",[e._v("I've always taken some interest in content creation. I used to make videos for my YouTube channel years ago, but now I settle with streaming, as it's less time consuming and more engaging.")]),n("p",[e._v("My streaming schedule isn't regular, it's when I feel like it pretty much, so the best thing is to follow "),n("a",{attrs:{target:"_blank",href:e.$store.state.twitch.channelUrl}},[e._v("my Twitch channel")]),e._v(" or "),n("tw-link",{attrs:{handle:"TomikaArome"}},[e._v("my Twitter account")]),e._v(" to be updated when I go live!")],1),n("p",[e._v("I mostly stream Kemistry practice sessions, which happen on Monday, Thursday and Sunday evenings. Sometimes I'll also whip out another game and just start streaming for the heck of it!")])]),n("tomika-index-section",{attrs:{title:"Programming","background-color":"hsl(220,35%,25%)","background-image":"/images/banners/mozfest-app.jpg","image-on-left":""}},[n("p",[e._v("My career path is not quite as artistic or cultural as drawing or streaming, though I do try and inject some into it. I'm currently studying for a computer science degree in a french university, and will soon hopefully find a full time job to pursue my ambitions!")]),n("p",[e._v("As you may have guessed by this very website, I'm very much into web development in particular. I've combined my creative and techy side and designed a website that is not only meant to be functional, but also beautiful. Quality of code and quality of user experience are both equally as important to me to creating something I can be happy with!")]),n("p",[e._v("The front-end of this website is coded using Vue.js. You can take a look at the source code on "),n("a",{attrs:{target:"_blank",href:"https://github.com/TomikaArome/tomika-front-end"}},[e._v("its github repository")]),e._v(". It works separately from the back-end, also coded by myself using Node.js, Express and discord.js")]),n("p",{staticClass:"caption"},[e._v("Pictured: The application I created for the session I was presenting about Cross-Site Scripting at the Mozilla Festival 2019.")])])],1)},Be=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-row"},[n("img",{staticClass:"title-pfp",attrs:{src:"/images/pfp.png"}}),n("div",{staticClass:"title-tomika-ink"},[n("img",{attrs:{src:"/images/tomika.ink.svg"}})])])}],Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{attrs:{target:"_blank",href:"https://twitter.com/"+e.$props.handle}},[e._t("default",[e._v("@"+e._s(e.handle))])],2)},Fe=[],qe={name:"tw-link",props:{handle:{type:String,default:"TomikaArome"}}},ze=qe,He=Object(b["a"])(ze,Le,Fe,!1,null,"bec94850",null),Ke=He.exports,We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tomika-image-banner"},e._l(e.$props["images"],(function(t,a){return n("div",{key:t.url,staticClass:"banner",style:{opacity:e.i===a?"1":"","pointer-events":e.i===a?"":"none"}},[n("div",{staticClass:"background-image",style:e.bannerStyle(t)}),t.caption?n("div",{staticClass:"caption",class:t.captionPos},[n("h1",[e._v(e._s(t.caption))]),t.description?[n("hr"),n("div",{staticClass:"description"},[e._v(e._s(t.description))])]:e._e(),t.twitterCredit?[n("hr"),n("div",{staticClass:"credit"},[e._v(" Image credit: "),n("tw-link",{attrs:{handle:t.twitterCredit}})],1)]:e._e()],2):e._e()])})),0)},Ze=[],Ve=(n("a9e3"),{name:"tomika-image-banner",components:{TwLink:Ke},props:{changeRate:{type:Number,default:15e3},images:{type:Array,validator:function(e){for(var t in e){if("object"!==Object(u["a"])(e[t])||"string"!==typeof e[t].url)return!1;if("undefined"!==typeof e[t].captionPos&&-1===["top-left","top-right","bottom-left","bottom-right"].indexOf(e[t].captionPos))return!1}return!0}}},data:function(){return{i:0,maintainOpacity:[]}},mounted:function(){var e=this;setTimeout((function(){e.nextImage()}),this.$props.changeRate)},methods:{bannerStyle:function(e){return{"background-image":"url('".concat(e.url,"')"),"background-position":"".concat("undefined"!==typeof e.posX?e.posX:"50%"," ").concat("undefined"!==typeof e.posY?e.posY:"50%"),filter:"undefined"!==typeof e.filter?e.filter:""}},nextImage:function(){var e=this,t=this.i;this.i=t+1>=this.$props["images"].length?0:t+1,setTimeout((function(){e.nextImage()}),this.$props.changeRate)}}}),Ye=Ve,Je=(n("5b12"),Object(b["a"])(Ye,We,Ze,!1,null,"63d52d3d",null)),Xe=Je.exports,Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tomika-index-section",class:{"image-on-left":e.$props.imageOnLeft},style:{"background-color":e.$props.backgroundColor}},[e.backgroundImage?n("div",{staticClass:"background-image"},[n("img",{attrs:{src:e.$props.backgroundImage,alt:""}})]):e._e(),n("div",{staticClass:"tomika-column",style:{justifyContent:e.$props.image||e.$props.backgroundImage?"":"center"}},[e.$props.image?n("div",{staticClass:"image"},[n("img",{staticClass:"image",attrs:{src:e.$props.image,alt:""}})]):e._e(),n("div",{staticClass:"content"},[n("h1",[e._v(e._s(e.$props.title))]),n("div",[e._t("default")],2)])])])},et=[],tt={name:"tomika-index-section",props:{title:String,backgroundColor:{type:String,default:"hsla(0,0%,100%,0.1)"},image:String,backgroundImage:String,imageOnLeft:{type:Boolean,default:!1}}},nt=tt,at=(n("12cb"),Object(b["a"])(nt,Qe,et,!1,null,"23ac6122",null)),ot=at.exports,it={name:"tomika-content-index",components:{twLink:Ke,tomikaImageBanner:Xe,tomikaIndexSection:ot},data:function(){return{bannerImages:[{url:"/images/banners/kemistry-meetup-park.jpg",posX:"47%",posY:"20%",caption:"Kemistry meet-up #2",captionPos:"top-right",description:"Kemistry had a second meet-up in the summer of 2019. Pictured here from left to right: Cynthie, Zari, MooDee, me.",twitterCredit:"SephSquid"},{url:"/images/banners/london-bridge.png",caption:"On London bridge with Vincent and Cynthie",captionPos:"bottom-right",description:"The Sunday evening of MozFest 2019, we went on a hunt for a dessert cafe, only to not find it and find ourselves on London bridge instead.",twitterCredit:"vlee888"},{url:"/images/banners/egx-2019-kemistry.jpg",posY:"40%",caption:"Kemistry at EGX 2019",captionPos:"top-left",description:"Kemistry participated in the Splatoon UK championship 2019 qualifier at EGX. We got to the semi-finals! Pictured here from left to right: Callie, Cynthie, Lew, me.",twitterCredit:"Lewieboy124"},{url:"/images/banners/eu-champs-group-photo.jpg",posY:"20%",caption:"Splatoon European championships 2019",captionPos:"bottom-left",description:"I attended the Splatoon 2019 European championships in Paris with many of the UK community."},{url:"/images/banners/eu-champs-paris.jpg",posY:"40%",caption:"Paris with the Splatoon UK community",captionPos:"bottom-right",description:"While attending the Splatoon 2019 European championships, we visited some of Paris, including the Louvre.",twitterCredit:"kitsuneSpl"}],nameFragments:["κε"," ","To","m","i","ka"," ","Arome"],nameOrigin:[{fragments:[0],description:"Kemistry's tag, composed of the lowercase kappa κ and the lowercase epsilon ε."},{fragments:[2,3],description:"Shortened variant of my real first name, Thomas."},{fragments:[4,5],description:'The japanese for "squid", in roman letters.'},{fragments:[2,3,4],description:"Tomi (and sometimes Tommy) is my male nickname which most people call me."},{fragments:[3,4,5],description:"Mika is my female nickname which I sometimes go by."},{fragments:[2,3,4,5],description:"Japanese female name. Calling me this is acceptable but slightly formal."},{fragments:[7],description:'To add uniqueness, I gave my character a last name. Arome is the japanese for "Tentatek", the brand of sportswear in Splatoon I\'ve been known to like.'}],nameIndex:0}},computed:{age:function(){return new Date(Date.now()-new Date("1997-10-07").getTime()).getUTCFullYear()-1970}},mounted:function(){var e=this;setInterval((function(){var t=e.nameIndex+1;t>=e.nameOrigin.length&&(t=0),e.nameIndex=t}),8e3)}},st=it,rt=(n("16ee"),Object(b["a"])(st,Ue,Be,!1,null,"1cb46f42",null)),ct=rt.exports,lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"tomika-content-stream-control"}},[n("section",{class:{collapsed:e.data.connectionCollapsed}},[n("h1",{on:{click:function(t){return e.set("connectionCollapsed",!e.data.connectionCollapsed)}}},[e._v("Connection")]),n("div",[n("div",{staticClass:"panel panel-button",class:{on:e.connStatus>=e.CONN.SUCCESSFUL,pending:e.connStatus===e.CONN.PENDING},on:{click:e.connect}},[n("font-awesome-icon",{attrs:{icon:"power-off"}}),e._v(" Connect ")],1),n("div",{staticClass:"panel panel-button",class:{on:e.connStatus>=e.CONN.OBS_SUCCESSFUL,pending:e.connStatus===e.CONN.OBS_PENDING,faded:e.connStatus<e.CONN.SUCCESSFUL},on:{click:e.connectObs}},[n("font-awesome-icon",{attrs:{icon:"power-off"}}),e._v(" Connect OBS ")],1),n("div",{staticClass:"panel",class:{faded:e.connStatus<=e.CONN.PENDING}},[n("input",{attrs:{type:"text",placeholder:"OBS host"},domProps:{value:e.data.obsHost},on:{change:function(t){return e.set("obsHost",t.target.value)}}}),n("input",{attrs:{type:"password",placeholder:"OBS password"},domProps:{value:e.obsPassword},on:{change:function(t){e.obsPassword=t.target.value}}})]),n("div",{staticClass:"connect-info"},[n("div",[n("font-awesome-icon",{attrs:{spin:e.connStatus===e.CONN.PENDING,icon:e.connStatus===e.CONN.PENDING?"spinner":e.connStatus>=e.CONN.SUCCESSFUL?"check":"times"}}),e._v(" WebSocket connection to back-end")],1),n("div",[n("font-awesome-icon",{attrs:{spin:e.connStatus===e.CONN.OBS_PENDING,icon:e.connStatus===e.CONN.OBS_PENDING?"spinner":e.connStatus===e.CONN.OBS_SUCCESSFUL?"check":"times"}}),e._v(" WebSocket connection to OBS")],1)])])]),n("section",{class:{faded:e.connStatus<e.CONN.OBS_SUCCESSFUL,collapsed:e.data.sceneCollapsed}},[n("h1",{on:{click:function(t){return e.set("sceneCollapsed",!e.data.sceneCollapsed)}}},[e._v("Scenes")]),n("div",e._l(e.data.scenes,(function(t,a){return n("div",{key:a,staticClass:"panel panel-button",class:{on:t.name===e.data.sceneActive},on:{click:function(n){return e.set("sceneActive",t.name)}}},[n("font-awesome-icon",{attrs:{icon:t.icon}}),e._v(" "+e._s(t.name)+" ")],1)})),0)]),n("section",{class:{faded:e.connStatus<e.CONN.SUCCESSFUL,collapsed:e.data.generalCollapsed}},[n("h1",{on:{click:function(t){return e.set("generalCollapsed",!e.data.generalCollapsed)}}},[e._v("General")]),n("div",[n("div",{staticClass:"panel panel-button",class:{on:e.data.socialActive},on:{click:function(t){return e.set("socialActive",!e.data.socialActive)}}},[n("font-awesome-icon",{attrs:{icon:"at"}}),e._v(" Social ")],1),n("div",{staticClass:"panel panel-button",class:{on:e.data.micActive,faded:e.connStatus<e.CONN.OBS_SUCCESSFUL},on:{click:function(t){return e.set("micActive",!e.data.micActive)}}},[n("font-awesome-icon",{attrs:{icon:"microphone"}}),e._v(" Microphone ")],1),n("div",{staticClass:"panel panel-button",class:{on:e.data.discordActive,faded:e.connStatus<e.CONN.OBS_SUCCESSFUL},on:{click:function(t){return e.set("discordActive",!e.data.discordActive)}}},[n("font-awesome-icon",{attrs:{icon:["fab","discord"]}}),e._v(" Discord ")],1)])]),n("section",{class:{faded:e.connStatus<e.CONN.SUCCESSFUL,collapsed:e.data.brbCollapsed}},[n("h1",{on:{click:function(t){return e.set("brbCollapsed",!e.data.brbCollapsed)}}},[e._v("BRB screen")]),n("div",[n("div",{staticClass:"panel panel-button",class:{on:e.data.brbActive},on:{click:function(t){return e.set("brbActive",!e.data.brbActive)}}},[n("font-awesome-icon",{attrs:{icon:"mug-hot"}}),e._v(" BRB screen ")],1),n("div",{staticClass:"panel"},[n("input",{attrs:{type:"text",placeholder:"Big message"},domProps:{value:e.data.brbBigMessage},on:{change:function(t){return e.set("brbBigMessage",t.target.value)}}}),n("input",{attrs:{type:"text",placeholder:"Small message"},domProps:{value:e.data.brbSmallMessage},on:{change:function(t){return e.set("brbSmallMessage",t.target.value)}}})])])]),n("section",{class:{faded:e.connStatus<e.CONN.SUCCESSFUL,collapsed:e.data.bingoCollapsed}},[n("h1",{on:{click:function(t){return e.set("bingoCollapsed",!e.data.bingoCollapsed)}}},[e._v("Bingo")]),n("div",[n("div",{staticClass:"panel panel-button",class:{on:e.data.bingoActive},on:{click:function(t){return e.set("bingoActive",!e.data.bingoActive)}}},[n("font-awesome-icon",{attrs:{icon:"th"}}),e._v(" Bingo ")],1),n("div",{staticClass:"panel",class:{faded:!e.data.bingoActive}},[e._l(e.data.bingoNames,(function(t,a){return n("div",{key:a,staticClass:"bingo-info-line",class:{"bingo-line-visible":t.visible}},[n("button",{staticClass:"bingo-line-visibility",on:{click:function(n){return e.setBingoNames(a,"visible",!t.visible)}}},[n("font-awesome-icon",{attrs:{icon:t.visible?"eye":"eye-slash"}})],1),n("div",{staticClass:"bingo-colour-selector"},e._l(e.bingoColours,(function(o){return n("button",{key:o,staticClass:"bingo-colour",class:"bingo-colour-"+o+(t.colour===o?" selected":""),on:{click:function(t){return e.setBingoNames(a,"colour",o)}}})})),0),n("input",{attrs:{type:"text",placeholder:"Name"},domProps:{value:t.name},on:{change:function(t){return e.setBingoNames(a,"name",t.target.value)}}}),n("input",{attrs:{type:"text",placeholder:"Profile picture URL"},domProps:{value:t.pfpUrl},on:{change:function(t){return e.setBingoNames(a,"pfpUrl",t.target.value)}}}),n("button",{staticClass:"bingo-line-remove",on:{click:function(t){return e.setBingoNames(a,"remove")}}},[n("font-awesome-icon",{attrs:{icon:"trash"}})],1)])})),n("button",{staticClass:"bingo-line-add",on:{click:function(t){return e.setBingoNames(-1,"add")}}},[n("font-awesome-icon",{attrs:{icon:"plus"}}),e._v(" Add participant ")],1)],2)])])])},dt=[],ut=(n("4fad"),n("3835"));r["c"].add(m["B"],m["L"],m["D"],m["G"],m["d"],m["x"],m["a"],m["y"],m["l"],m["w"],p["a"],m["b"],m["F"],m["o"],m["p"],m["H"],m["A"],m["I"],m["z"]),a["a"].component("font-awesome-icon",c["a"]);var mt={name:"tomika-content-stream-control",data:function(){return{socket:null,connStatus:0,obsPassword:"",data:{connectionCollapsed:!1,obsHost:"127.0.0.1:4444",sceneCollapsed:!1,scenes:[],sceneActive:"",generalCollapsed:!1,socialActive:!1,micActive:!1,discordActive:!1,brbCollapsed:!1,brbActive:!1,brbBigMessage:"Taking a quick break",brbSmallMessage:"I'll be back soon!",bingoCollapsed:!0,bingoNames:[{visible:!0,colour:"red",name:"",pfpUrl:""},{visible:!0,colour:"blue",name:"",pfpUrl:""}]},bingoColours:["orange","red","blue","green","purple","navy","teal","brown","pink","yellow"]}},methods:{connect:function(){var e=this;if(this.socket)this.onDisconnect();else try{this.connStatus=this.CONN.PENDING,this.socket=L()("".concat(this.$store.state.app.backEnd,"/stream-control")),this.socket.on("connect",(function(){e.connStatus=e.CONN.SUCCESSFUL})),this.socket.on("connectObsFailed",(function(){e.connStatus=e.CONN.SUCCESSFUL})),this.socket.on("connectObsSuccessful",(function(){e.connStatus=e.CONN.OBS_SUCCESSFUL})),this.socket.on("disconnect",(function(){e.onDisconnect()})),this.socket.on("disconnectObs",(function(){e.connStatus=e.CONN.SUCCESSFUL})),this.socket.on("doc",(function(t){for(var n=0,a=Object.entries(t);n<a.length;n++){var o=Object(ut["a"])(a[n],2),i=o[0],s=o[1];e.$set(e.data,i,s)}}))}catch(t){}},onDisconnect:function(){this.socket.disconnect(),this.socket=null,this.connStatus=this.CONN.READY},connectObs:function(){this.connStatus===this.CONN.SUCCESSFUL?(this.connStatus=this.CONN.OBS_PENDING,this.socket.emit("connectObs",{host:this.data.obsHost,password:this.obsPassword})):(this.connStatus=this.CONN.SUCCESSFUL,this.socket.emit("disconnectObs"))},set:function(e,t){if(this.connStatus>=this.CONN.SUCCESSFUL){var n=Object.assign({},this.data);n[e]=t,this.socket.emit("set",n)}},setBingoNames:function(e,t,n){var a={};"remove"===t?(a=Object.assign({},this.data.bingoNames),delete a[e]):"add"===t?(a=Object.values(this.data.bingoNames),a.push({visible:!0,colour:"orange",name:"",pfpUrl:""})):(a=Object.assign({},this.data.bingoNames),a[e][t]=n),this.set("bingoNames",a)}},created:function(){this.CONN={READY:0,PENDING:1,SUCCESSFUL:2,OBS_PENDING:3,OBS_SUCCESSFUL:4},this.connStatus=this.CONN.READY}},pt=mt,ft=(n("befd"),Object(b["a"])(pt,lt,dt,!1,null,"785cda0a",null)),ht=ft.exports,vt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"tomika-content-admin"}},[n("div",{staticClass:"category-list",class:{collapsed:e.collapsed}},[e.collapsed?e._e():n("h1",[e._v("Administrator tools")]),n("div",{staticClass:"category-scroll-list"},e._l(e.categories,(function(t,a){return n("div",{key:a},[e.collapsed?0!==a?n("hr"):e._e():n("div",{staticClass:"category-title"},[e._v(e._s(t.categoryTitle))]),e._l(t.subCategories,(function(t){return n("div",{key:t.componentName,staticClass:"sub-category-button",class:{selected:e.selectedCategory===t.componentName},on:{click:function(n){return e.switchCategory(t)}}},[n("div",{staticClass:"icon"},[n("font-awesome-icon",{attrs:{icon:t.icon}})],1),n("div",{staticClass:"sub-category-title"},[e._v(e._s(t.categoryTitle))])])}))],2)})),0),n("th",{staticClass:"collapse-button sub-category-button",on:{click:function(t){e.collapsed=!e.collapsed}}},[n("div",{staticClass:"icon"},[n("font-awesome-icon",{attrs:{icon:e.collapsed?"chevron-right":"chevron-left"}})],1),n("div",{staticClass:"sub-category-title"},[e._v("Collapse")])])]),n(e.selectedCategory,{tag:"component"})],1)},gt=[],bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("Users admin panel")])},kt=[],Ct={name:"tomika-admin-users"},yt=Ct,wt=Object(b["a"])(yt,bt,kt,!1,null,"e4268bf0",null),_t=wt.exports,St=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("Groups admin panel")])},Ot=[],It={name:"tomika-admin-groups"},xt=It,Nt=Object(b["a"])(xt,St,Ot,!1,null,"e4066580",null),Et=Nt.exports,Pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tomika-collection-table",{attrs:{"id-prop-name":"permString",columns:e.tableColumns,"data-uri":"/permission/list","add-uri":"/permission/add","update-uri":"/permission/update","delete-uri":"/permission/delete"}})},jt=[],$t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tomika-editable-table",e._g(e._b({attrs:{"id-prop-name":"_id",data:e.data,"on-change":e.onChange,"on-delete":e.onDelete}},"tomika-editable-table",e.$attrs,!1),e.$listeners))},Rt=[],Gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editable-table-container",class:{"no-change":e.noChange}},[n("div",{staticClass:"table-area"},[n("table",[n("tr",{staticClass:"header-row"},e._l(e.visibleInTableColumns,(function(t,a){return n("th",{key:a},[e._v(e._s(t.colTitle))])})),0),e._l(e.data,(function(t,a){return n("tr",{key:a,class:{selected:t[e.idPropName]===e.selectedRowId},on:{click:function(n){return e.openEditZone(t[e.idPropName])}}},e._l(e.visibleInTableColumns,(function(a,o){return n("td",{key:o,style:Object.assign({},a.style,{textAlign:a.isBoolean?"center":"left"})},[a.isBoolean?t[a.propName]?n("font-awesome-icon",{staticStyle:{color:"hsl(90,30%,50%)"},attrs:{icon:"check"}}):n("font-awesome-icon",{staticStyle:{color:"hsl(0,30%,50%)"},attrs:{icon:"times"}}):[e._v(e._s(t[a.propName]))]],2)})),0)})),e.noChange||e.noAdd?e._e():n("tr",{staticClass:"new-record-row",class:{selected:null!==e.selectedRowEditing&&null===e.selectedRowId},on:{click:function(t){return e.openEditZone()}}},[n("th",{attrs:{colspan:"1000"}},[n("font-awesome-icon",{attrs:{icon:"plus"}}),e._v(" Add new")],1)])],2)]),null!==e.selectedRowEditing?n("div",{staticClass:"edit-zone"},[n("div",{staticClass:"edit-zone-prop-list"},e._l(e.visibleInEditZoneColumns,(function(t,a){return n("div",{key:a,staticClass:"edit-zone-prop"},[n("div",{staticClass:"edit-zone-prop-name"},[e._v(e._s(t.colTitle))]),n("div",{staticClass:"edit-zone-value"},[t.isBoolean?n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedRowEditing[t.propName],expression:"selectedRowEditing[col.propName]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.selectedRowEditing[t.propName])?e._i(e.selectedRowEditing[t.propName],null)>-1:e.selectedRowEditing[t.propName]},on:{change:function(n){var a=e.selectedRowEditing[t.propName],o=n.target,i=!!o.checked;if(Array.isArray(a)){var s=null,r=e._i(a,s);o.checked?r<0&&e.$set(e.selectedRowEditing,t.propName,a.concat([s])):r>-1&&e.$set(e.selectedRowEditing,t.propName,a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.selectedRowEditing,t.propName,i)}}}):t.editable&&!t.textarea?n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedRowEditing[t.propName],expression:"selectedRowEditing[col.propName]"}],attrs:{type:"text"},domProps:{value:e.selectedRowEditing[t.propName]},on:{input:function(n){n.target.composing||e.$set(e.selectedRowEditing,t.propName,n.target.value)}}}):t.editable&&t.textarea?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.selectedRowEditing[t.propName],expression:"selectedRowEditing[col.propName]"}],attrs:{type:"text"},domProps:{value:e.selectedRowEditing[t.propName]},on:{input:function(n){n.target.composing||e.$set(e.selectedRowEditing,t.propName,n.target.value)}}}):n("span",{style:t.style},[e._v(e._s(e.selectedRowEditing[t.propName]))])])])})),0),n("div",{staticClass:"edit-zone-confirmation"},[e.noDelete||null===e.selectedRowId?e._e():n("button",{staticClass:"edit-zone-delete-button notFilled red",attrs:{disabled:e.waiting>0},on:{click:e.deleteRow}},[2===e.waiting?n("font-awesome-icon",{attrs:{icon:"circle-notch",spin:""}}):[e._v("Delete")]],2),n("tomika-block-message",{style:{opacity:""===e.editZoneError?0:1},attrs:{type:"error"}},[e._v(e._s(e.editZoneError))]),n("button",{staticClass:"edit-zone-confirm-button",attrs:{disabled:e.waiting>0},on:{click:e.confirmRowChanges}},[1===e.waiting?n("font-awesome-icon",{attrs:{icon:"circle-notch",spin:""}}):[e._v("Confirm")]],2),n("button",{staticClass:"edit-zone-cancel-button notFilled",attrs:{disabled:e.waiting>0},on:{click:e.closeEditZone}},[e._v("Close")])],1)]):e._e()])},Tt=[],Mt=(n("c740"),n("a434"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tomika-block-message",class:e.classObj},[n("div",{staticClass:"icon"},[n("font-awesome-icon",{attrs:{icon:e.icon}})],1),n("div",{staticClass:"text"},[e._t("default")],2)])}),Dt=[];n("c96a");r["c"].add(m["t"],m["n"],m["m"],m["d"]);var At={info:"info-circle",warning:"exclamation-triangle",error:"exclamation-circle",success:"check"},Ut={name:"tomika-block-message",props:{type:{type:String,default:"info",validator:function(e){return-1!==Object.keys(At).indexOf(e)}},small:{type:Boolean,default:!1}},computed:{icon:function(){return At[this.type]},classObj:function(){var e={smallText:this.small};return e[this.type]=!0,e}}},Bt=Ut,Lt=(n("5511"),Object(b["a"])(Bt,Mt,Dt,!1,null,"5cf30d7c",null)),Ft=Lt.exports;r["c"].add(m["G"],m["d"],m["A"],m["i"]);var qt={name:"tomika-admin-editable-table",components:{FontAwesomeIcon:c["a"],tomikaBlockMessage:Ft},props:{idPropName:{type:String,required:!0},data:{type:Array,required:!0},columns:{type:Array,required:!0,validator:function(e){var t,n=!0,a=Object(A["a"])(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;"object"===Object(u["a"])(o)&&"string"===typeof o.propName&&"string"===typeof o.colTitle||(n=!1)}}catch(i){a.e(i)}finally{a.f()}return n}},noAdd:{type:Boolean,default:!1},noDelete:{type:Boolean,default:!1},onDelete:{type:Function,default:function(){return!0}},noChange:{type:Boolean,default:!1},onChange:{type:Function,default:function(){return!0}}},data:function(){return{selectedRowId:null,selectedRowEditing:null,editZoneError:"",waiting:0}},computed:{visibleInTableColumns:function(){return this.columns.filter((function(e){return!e.hiddenInTable}))},visibleInEditZoneColumns:function(){return this.columns.filter((function(e){return!e.hiddenInEditZone}))},selectedRow:function(){var e=this;return null===this.selectedRowId?null:this.data.find((function(t){return t[e.idPropName]===e.selectedRowId}))},selectedRowIndex:function(){var e=this;return null===this.selectedRowId?null:this.data.findIndex((function(t){return t[e.idPropName]===e.selectedRowId}))}},methods:{openEditZone:function(e){var t=this;if(!this.noChange)if(this.selectedRowEditing=null,this.selectedRowId=null,this.editZoneError="","undefined"===typeof e)this.selectedRowEditing={};else{var n=this.data.find((function(n){return n[t.idPropName]===e}));"object"===Object(u["a"])(n)&&(this.selectedRowEditing=Object.assign({},n),this.selectedRowId=e)}},closeEditZone:function(){this.selectedRowEditing=null,this.selectedRowId=null},confirmRowChanges:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,o,i,s,r,c,l,d,m,p,f,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=!0,a="",o=!1,i=e.data.findIndex((function(t){return e.selectedRowEditing[e.idPropName]===t[e.idPropName]})),-1===i||i===(null===e.selectedRowIndex?-1:e.selectedRowIndex)){t.next=7;break}s=e.columns.find((function(t){return t.propName===e.idPropName})).colTitle,e.editZoneError='The value of "'.concat(s,'" should be unique'),t.next=40;break;case 7:r=Object(A["a"])(e.columns),t.prev=8,r.s();case 10:if((c=r.n()).done){t.next=22;break}if(l=c.value,"function"!==typeof l.validator){t.next=20;break}if(d={newValue:e.selectedRowEditing[l.propName],oldValue:null,newObject:e.selectedRowEditing,oldObject:null,data:e.data},null!==e.selectedRowId&&(d.oldValue=e.selectedRow[l.propName],d.oldObject=e.selectedRow),o=l.validator(d),!1!==o&&"string"!==typeof o){t.next=20;break}return n=!1,a=l.colTitle,t.abrupt("break",22);case 20:t.next=10;break;case 22:t.next=27;break;case 24:t.prev=24,t.t0=t["catch"](8),r.e(t.t0);case 27:return t.prev=27,r.f(),t.finish(27);case 30:if(!n){t.next=39;break}return e.waiting=1,t.next=34,e.onChange(e.selectedRowEditing,null===e.selectedRowId?null:e.selectedRow);case 34:if(m=t.sent,e.waiting=0,!m&&void 0!==m||"string"===typeof m)e.editZoneError="string"===typeof m?m:"An error occurred";else{if("object"===Object(u["a"])(m)){p=Object(A["a"])(e.columns);try{for(p.s();!(f=p.n()).done;)h=f.value,"undefined"!==typeof m[h.propName]&&(e.selectedRowEditing[h.propName]=m[h.propName])}catch(v){p.e(v)}finally{p.f()}}null===e.selectedRowId?e.data.push(e.selectedRowEditing):e.$set(e.data,e.selectedRowIndex,e.selectedRowEditing),e.openEditZone(e.selectedRowEditing[e.idPropName])}t.next=40;break;case 39:e.editZoneError='Please check "'.concat(a,'" for invalid data').concat(!1===o?".":": "+o);case 40:case"end":return t.stop()}}),t,null,[[8,24,27,30]])})))()},deleteRow:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.noDelete){t.next=2;break}return t.abrupt("return");case 2:return e.waiting=2,t.next=5,e.onDelete(e.selectedRow);case 5:n=t.sent,e.waiting=0,!n&&void 0!==n||"string"===typeof n?e.editZoneError="string"===typeof n?n:"An error occurred":(a=e.selectedRowIndex,e.selectedRowEditing=null,e.selectedRowId=null,e.editZoneError="",e.data.splice(a,1));case 8:case"end":return t.stop()}}),t)})))()}}},zt=qt,Ht=(n("fcb4"),Object(b["a"])(zt,Gt,Tt,!1,null,"5d5c8dca",null)),Kt=Ht.exports,Wt={name:"tomika-collection-table",inheritAttrs:!1,components:{tomikaEditableTable:Kt},props:{dataUri:{type:String,required:!0},addUri:{type:String},updateUri:{type:String,required:!0},deleteUri:{type:String}},data:function(){return{data:[]}},methods:{fetchData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ue(e.dataUri);case 2:n=t.sent,n.ok&&(e.data=n.result.documents);case 4:case"end":return t.stop()}}),t)})))()},onChange:function(e,t){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(null!==t||n.addUri){a.next=2;break}return a.abrupt("return",!1);case 2:if(o=!1,i=null,null!==t){a.next=9;break}return a.next=6,ue(n.addUri,{method:"POST",body:e});case 6:i=a.sent,a.next=12;break;case 9:return a.next=11,ue(n.updateUri,{method:"POST",body:e});case 11:i=a.sent;case 12:return i.success&&(o=i.ok?i.result:"".concat(i.error.code,": ").concat(i.error.message)),a.abrupt("return",o);case 14:case"end":return a.stop()}}),a)})))()},onDelete:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.deleteUri){n.next=2;break}return n.abrupt("return",!1);case 2:return a=!1,n.next=5,ue(t.deleteUri,{method:"POST",body:{_id:e._id}});case 5:return o=n.sent,a=!!o.ok||"".concat(o.error.code,": ").concat(o.error.message),n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))()}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$attrs.columns.unshift({propName:"_id",colTitle:"ID",style:{fontFamily:'"Courier New", monospace',color:"hsl(0,0%,75%)"},editable:!1,hiddenInTable:!0}),t.next=3,e.fetchData();case 3:case"end":return t.stop()}}),t)})))()}},Zt=Wt,Vt=Object(b["a"])(Zt,$t,Rt,!1,null,"368b9036",null),Yt=Vt.exports,Jt={name:"tomika-admin-permissions",components:{tomikaCollectionTable:Yt},data:function(){return{tableColumns:[{propName:"permString",colTitle:"Permission string",editable:!0,style:{fontFamily:'"Courier New", monospace',maxWidth:"300px",wordWrap:"break-word"},validator:function(e){var t=e.newValue;return!!/^perm\./.test(t)||'Every permission must start with "perm.".'}},{propName:"description",colTitle:"Description",editable:!0,textarea:!0}]}}},Xt=Jt,Qt=Object(b["a"])(Xt,Pt,jt,!1,null,"3f9acc1e",null),en=Qt.exports;r["c"].add(m["g"],m["f"],m["J"],m["K"],m["q"]);var tn={name:"tomika-content-admin",components:{tomikaAdminUsers:_t,tomikaAdminGroups:Et,tomikaAdminPermissions:en,FontAwesomeIcon:c["a"]},data:function(){return{selectedCategory:"tomika-admin-permissions",collapsed:!1,categories:[{categoryTitle:"General",subCategories:[{categoryTitle:"Users",componentName:"tomika-admin-users",icon:"user",pathname:"users",permission:"perm.admin.users"},{categoryTitle:"Groups",componentName:"tomika-admin-groups",icon:"users",pathname:"groups",permission:"perm.admin.groups"},{categoryTitle:"Permissions",componentName:"tomika-admin-permissions",icon:"gavel",pathname:"permissions",permission:"perm.admin.permissions"}]}]}},methods:{switchCategory:function(e){this.selectedCategory=e.componentName,window.history.pushState(null,null,"/admin/"+e.pathname)}},mounted:function(){var e=window.location.pathname.replace(/^\/admin\/?/,"");if(e){var t,n=null,a=Object(A["a"])(this.categories);try{for(a.s();!(t=a.n()).done;){var o,i=t.value,s=Object(A["a"])(i.subCategories);try{for(s.s();!(o=s.n()).done;){var r=o.value;e===r.pathname&&(n=r)}}catch(c){s.e(c)}finally{s.f()}}}catch(c){a.e(c)}finally{a.f()}n?this.switchCategory(n):window.history.replaceState(null,null,"/admin")}}},nn=tn,an=(n("e3c0"),Object(b["a"])(nn,vt,gt,!1,null,"c16baa98",null)),on=an.exports,sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"tomika-content-user"}},[n("div",[n("div",{staticClass:"user-info-area"},[n("tomika-discord-pfp",{attrs:{size:"128","discord-id":e.$store.getters["user/discordId"],avatar:e.$store.getters["user/avatar"]}}),n("div",{staticClass:"user-info-area-details"},[n("div",{staticClass:"displayName"},[e._v(" "+e._s(e.$store.getters["user/name"])+" "),n("span",{staticClass:"tag"},[e._v("#"+e._s(e.$store.getters["user/discriminator"]))])])])],1),e._m(0),n("tomika-user-nintendo-connect"),e._m(1),e._m(2)],1)])},rn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[n("div",[e._v("Connect your Nintendo account")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[n("div",[e._v("About your connection with your Discord account")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("p",{staticClass:"greyed"},[e._v("The only data Tomika.ink collects from your Discord account is your Discord ID, username, discriminator (the 4 digit number after the #) and avatar. Tomika.ink has no access to your email, password or any other sensitive data. It cannot read your messages unless those messages originate from a server shared with the Tomika.ink bot. If you have any other privacy concerns, feel free to contact me.")])])}],cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{attrs:{id:"tomika-user-nintendo-connect"}},[n("transition",{attrs:{name:e.ninConnStep<e.ninConnPrevStep?"page-slide-right":"page-slide-left",mode:"out-in"}},[0===e.ninConnStep?n("div",{key:"0",staticClass:"nin-conn-step"},[n("h1",[n("div",[e._v("Manual cookie insertion")])]),n("tomika-block-message",{attrs:{type:"warning"}},[e._v("Manual insertion of the cookie is not recommended as iksm_session cookies only last for 24 hours.")]),n("p",[e._v("Insert the FULL cookie in the input field below. Make sure to include the expiry time.")]),n("div",{staticClass:"input-row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.ninConnManualCookie,expression:"ninConnManualCookie"}],attrs:{type:"text"},domProps:{value:e.ninConnManualCookie},on:{input:function(t){t.target.composing||(e.ninConnManualCookie=t.target.value)}}}),n("button",{attrs:{disabled:e.$store.state.request.progress["/user/splatnet/cookie"]},on:{click:e.ninConnManualConfirm}},[n("font-awesome-icon",{attrs:{icon:e.$store.state.request.progress["/user/splatnet/cookie"]?"circle-notch":"save"}}),e._v(" Save! ")],1)]),e.ninConnManualCookieErr?n("tomika-block-message",{attrs:{type:"error"}},[e._v(" "+e._s(e.ninConnManualCookieErr)+" ")]):e._e(),n("p",[e._v("Example: "),n("span",{staticClass:"example"},[e._v("iksm_session=d3f852f1b181795bd1c643bff416e315a56a0c89; path=/; expires=Thu, 01-Jan-1970 00:00:00 GMT; secure; HttpOnly")])]),e.$store.getters["user/splatnetConnected"]?n("tomika-block-message",{attrs:{type:e.$store.getters["user/splatnetCookieExpired"]?"error":"success"}},[e._v(" "+e._s(e.$store.getters["user/splatnetCookieExpired"]?"Your cookie has expired":"Your cookie has been saved and is ready for use")+" ")]):e._e(),e.$store.getters["user/splatnetConnected"]?n("button",{attrs:{disabled:e.$store.state.request.progress["/user/splatnet/disconnect"]},on:{click:e.ninConnDisconnectButton}},[n("font-awesome-icon",{attrs:{spin:e.$store.state.request.progress["/user/splatnet/disconnect"],icon:e.$store.state.request.progress["/user/splatnet/disconnect"]?"circle-notch":"lock"}}),e._v("Delete cookie from server ")],1):e._e(),n("div",{staticClass:"nin-conn-step-changer-row"},[n("div",{staticClass:"spacer"}),n("div",{staticClass:"nin-conn-step-changer right",on:{click:function(t){return e.ninConnChangeStep(1)}}},[n("div",[e._v("Connect Nintendo account to automatically generate a cookie")]),n("font-awesome-icon",{attrs:{icon:"chevron-right"}})],1)])],1):e._e(),1===e.ninConnStep?n("div",{key:"1",staticClass:"nin-conn-step"},[n("h1",[n("div",[e._v("About connecting your Nintendo account")])]),n("p",[e._v("Connect your Nintendo account to enable additional functionalities on Tomika.ink! Please read the following disclaimer before proceeding:")]),n("p",{staticClass:"greyed"},[e._v("Connecting your Nintendo account to Tomika.ink involves a process not officially provided by Nintendo. Tomika.ink obtains a special cookie usually used exclusively on Splatnet 2. It then uses this cookie to obtain data available on Splatnet 2. When connecting your account, Tomika.ink does not have access to any sensitive data such as your email or passwords. I strongly recommend you read "),n("a",{attrs:{href:"https://github.com/frozenpandaman/splatnet2statink#cookie-generation",target:"_blank"}},[e._v("the cookie generation section of splatnet2statink")]),e._v(", a library that uses the same process, to learn how and why this method is secure.")]),n("p",{staticClass:"greyed"},[e._v("If you have concerns about automatic cookie generation, you may opt to obtain the cookie yourself (such as by using "),n("a",{attrs:{href:"https://github.com/frozenpandaman/splatnet2statink/wiki/mitmproxy-instructions",target:"_blank"}},[e._v("mitmproxy")]),e._v(") and manually enter it yourself using method #2 below. Keep in mind however that iksm_session cookies only last for 24 hours, so you would need to generate a new one yourself.")]),n("p",{staticClass:"greyed"},[e._v("If you have any additional concerns, you may contact me directly about them. Tomika.ink is not responsible for anything that may happen to your Nintendo account.")]),n("div",{staticClass:"nin-conn-step-changer-row"},[e.$store.getters["user/splatnetConnectedAuto"]?e._e():n("div",{staticClass:"nin-conn-step-changer",on:{click:function(t){return e.ninConnChangeStep(0)}}},[n("font-awesome-icon",{attrs:{icon:"chevron-left"}}),n("div",[e._v("Use manual cookie insertion instead")])],1),n("div",{staticClass:"spacer"}),n("div",{staticClass:"nin-conn-step-changer right",on:{click:function(t){return e.ninConnChangeStep(e.$store.getters["user/splatnetConnectedAuto"]?3:2)}}},[n("div",[e._v("I have acknowledged and agree to these terms and wish to proceed")]),n("font-awesome-icon",{attrs:{icon:"chevron-right"}})],1)])]):e._e(),2===e.ninConnStep?n("div",{key:"2",staticClass:"nin-conn-step"},[n("h1",[n("div",[e._v("Connecting your Nintendo account")])]),n("p",[e._v("Click on the button below to open the authorisation page on the Nintendo website. Sign in to your Nintendo account if you haven't already and "),n("b",[e._v('right-click on "Select this person", then press on "Copy link address"')]),e._v(".")]),n("div",{staticClass:"nin-conn-button-row"},[n("button",{staticClass:"nin-conn-auth-page-button",on:{click:e.clickNinConn}},[n("font-awesome-icon",{attrs:{icon:["fa-tomika","nintendo-switch"]}}),e._v(" Open authorisation page ")],1)]),n("p",[e._v('Paste the URL obtained in the input box below and press "Connect!":')]),n("div",{staticClass:"input-row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.ninConnRedirectUri,expression:"ninConnRedirectUri"}],attrs:{type:"text"},domProps:{value:e.ninConnRedirectUri},on:{input:function(t){t.target.composing||(e.ninConnRedirectUri=t.target.value)}}}),n("button",{attrs:{disabled:e.$store.state.request.progress["/user/splatnet/connect-redirect"]},on:{click:e.clickNinConnRedirectSubmit}},[n("font-awesome-icon",{attrs:{spin:e.$store.state.request.progress["/user/splatnet/connect-redirect"],icon:e.$store.state.request.progress["/user/splatnet/connect-redirect"]?"circle-notch":"lock-open"}}),e._v(" Connect! ")],1)]),e.ninConnRedirectErr?n("tomika-block-message",{attrs:{type:"error"}},[e._v(e._s(e.ninConnRedirectErr))]):e._e(),n("div",{staticClass:"spacer"}),n("div",{staticClass:"nin-conn-step-changer-row"},[n("div",{staticClass:"nin-conn-step-changer",on:{click:function(t){return e.ninConnChangeStep(1)}}},[n("font-awesome-icon",{attrs:{icon:"chevron-left"}}),n("div",[e._v("Read terms again")])],1),n("div",{staticClass:"spacer"}),e.$store.getters["user/splatnetConnectedAuto"]?n("div",{staticClass:"nin-conn-step-changer",on:{click:function(t){return e.ninConnChangeStep(3)}}},[n("div",[e._v("Keep current connection")]),n("font-awesome-icon",{attrs:{icon:"chevron-right"}})],1):e._e()])],1):e._e(),3===e.ninConnStep?n("div",{key:"3",staticClass:"nin-conn-step"},[n("h1",[n("div",[e._v("Connection successful")])]),n("p",[e._v("Your Nintendo account is now connected! You will now be able to use any app on Tomika.ink that needs to access Splatnet 2!")]),n("div",{staticClass:"nin-conn-button-row"},[n("button",{attrs:{disabled:e.$store.state.request.progress["/user/splatnet/disconnect"]},on:{click:function(t){return e.ninConnChangeStep(2)}}},[n("font-awesome-icon",{attrs:{icon:"sync-alt"}}),e._v("Reconnect ")],1),n("button",{attrs:{disabled:e.$store.state.request.progress["/user/splatnet/disconnect"]},on:{click:e.ninConnDisconnectButton}},[n("font-awesome-icon",{attrs:{spin:e.$store.state.request.progress["/user/splatnet/disconnect"],icon:e.$store.state.request.progress["/user/splatnet/disconnect"]?"circle-notch":"lock"}}),e._v("Disconnect ")],1)]),n("div",{staticClass:"spacer"}),n("div",{staticClass:"nin-conn-step-changer-row"},[n("div",{staticClass:"nin-conn-step-changer",on:{click:function(t){return e.ninConnChangeStep(1)}}},[n("font-awesome-icon",{attrs:{icon:"chevron-left"}}),n("div",[e._v("Read terms again")])],1)])]):e._e()])],1)},ln=[];r["c"].add(m["f"],m["g"],m["v"],m["i"],m["E"],m["u"],m["C"]);var dn={name:"tomika-user-nintendo-connect",components:{tomikaBlockMessage:Ft},data:function(){return{ninConnStep:1,ninConnPrevStep:0,ninConnManualCookie:"",ninConnManualCookieErr:"",ninConnRedirectUri:"",ninConnRedirectErr:""}},computed:{ninConnManualMessage:function(){return this.$store.getters["user/splatnetConnected"]}},methods:{ninConnChangeStep:function(e){this.ninConnPrevStep=this.ninConnStep,this.ninConnStep=e},clickNinConn:function(){window.open("".concat(this.$store.state.app.backEnd,"/user/splatnet/connect"))},clickNinConnRedirectSubmit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.ninConnRedirectErr="",!e.ninConnRedirectUri){t.next=6;break}return t.next=4,fe(e.ninConnRedirectUri);case 4:n=t.sent,!0===n?(e.ninConnChangeStep(3),e.ninConnRedirectUri=""):"object"===Object(u["a"])(n)&&("PARAM_INVALID_VALUE"===n.code?e.ninConnRedirectErr="Invalid URL. Please check the URL submitted was the correct one and was properly formed.":e.ninConnRedirectErr="An unexpected error occurred. Please try again later.");case 6:case"end":return t.stop()}}),t)})))()},ninConnManualConfirm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.ninConnBadlyFormedCookie=!1,e.ninConnAlreadyExpiredCookie=!1,t.next=4,ve(e.ninConnManualCookie);case 4:if(n=t.sent,"SPLATNET_COOKIE_BADLY_FORMED"===n&&(e.ninConnManualCookieErr="The cookie you entered is not properly formed. See below for an example."),"SPLATNET_MANUAL_COOKIE_EXPIRED"!==n){t.next=10;break}e.ninConnManualCookieErr="The cookie you entered has already expired.",t.next=16;break;case 10:if(!0===n){t.next=14;break}e.ninConnManualCookieErr="An unexpected error occurred.",t.next=16;break;case 14:return t.next=16,me();case 16:case"end":return t.stop()}}),t)})))()},ninConnDisconnectButton:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,he();case 2:if(n=t.sent,!n){t.next=7;break}return e.ninConnChangeStep(1),t.next=7,me();case 7:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.$store.getters["user/splatnetConnected"]?this.$store.getters["user/splatnetManual"]?(this.ninConnStep=0,this.ninConnManualCookie=this.$store.getters["user/splatnetCookie"]):this.ninConnStep=3:this.ninConnStep=1}},un=dn,mn=(n("ceac"),Object(b["a"])(un,cn,ln,!1,null,"53d7747e",null)),pn=mn.exports,fn={name:"tomika-content-user",components:{tomikaDiscordPfp:C,tomikaUserNintendoConnect:pn}},hn=fn,vn=(n("e5f5"),Object(b["a"])(hn,sn,rn,!1,null,"4905a57f",null)),gn=vn.exports,bn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"tomika-content-ouistiti"}},[n("div",{staticClass:"game"},[n("div",{staticClass:"playing-area"},e._l(e.cards,(function(e){return n("tomika-playing-card",{key:e.cardId,attrs:{card:e}})})),1),n("div",{staticClass:"drawer left-drawer",style:{transform:"translateX("+(e.leftDrawerVisible?"0":"-300px")+")"}},[n("h1",[e._v("Player options")]),n("section",[n("div",{staticClass:"nickname-row"},[n("input",{attrs:{type:"text"},domProps:{value:e.chosenNickname},on:{input:function(t){return e.setChosenNickname(t.target.value)},keyup:function(t){return e.checkSubmit(t)}}}),n("button",{on:{click:e.setNickname}},[e._v("Change nickname")])]),e.nicknameError?n("tomika-block-message",{attrs:{type:"error",small:!0}},[e._v(e._s(e.nicknameError))]):e._e(),n("div",{staticClass:"colour-picker-row"},e._l(e.colours,(function(t,a){return n("div",{key:a,class:{taken:e.takenColours.indexOf(a)>-1},style:{backgroundColor:t},on:{click:function(t){e.setColour(a,e.takenColours.indexOf(a)>-1)}}},[e.self.colour===a?n("font-awesome-icon",{attrs:{icon:"check"}}):e.takenColours.indexOf(a)>-1?n("font-awesome-icon",{attrs:{icon:"times"}}):e._e()],1)})),0)],1),n("h1",[e._v("Players")]),n("section",[n("div",{staticClass:"player-list"},[e._l(e.playerOrder,(function(t,a){return n("div",{key:t.id},[n("tomika-cards-player-graphic",{attrs:{id:t.id,small:!0,colour:t.colour}}),n("div",{staticClass:"nickname"},[e._v(e._s(t.nickname))]),n("div",{staticClass:"host"},[t.id===e.hostId?n("font-awesome-icon",{attrs:{icon:"crown"}}):e._e()],1),e.isHost?n("div",{staticClass:"reorder-buttons"},[0!==a?n("div",{on:{click:function(n){return e.reorderPlayers(e.playerOrder[a-1].id,t.id)}}},[n("font-awesome-icon",{attrs:{icon:"chevron-up"}})],1):e._e(),n("div",{staticClass:"spacer"}),a!==e.playerOrder.length-1?n("div",{on:{click:function(n){return e.reorderPlayers(t.id,e.playerOrder[a+1].id)}}},[n("font-awesome-icon",{attrs:{icon:"chevron-down"}})],1):e._e()]):e._e()],1)})),e._l(6-e.playerIdOrder.length,(function(t){return n("div",{key:t,staticClass:"empty"},[n("tomika-cards-player-graphic",{attrs:{small:!0,colour:"black"}}),n("div",{staticClass:"nickname"},[e._v("Waiting for players...")])],1)}))],2)]),n("h1",[e._v("Game options")]),n("section",[n("div",{staticClass:"buttons-row"},[n("button",{staticClass:"red",on:{click:e.leaveGame}},[e._v("Leave game")]),e.isHost?n("button",{staticClass:"green",on:{click:e.startGame}},[e._v("Start game")]):e._e()])])]),n("div",{staticClass:"drawer-tab",style:{transform:"rotate(90deg) translate(-32px, "+(e.leftDrawerVisible?"-300px":"0")+")"},on:{click:function(t){return e.setLeftDrawerVisible(!e.leftDrawerVisible)}}},[n("font-awesome-icon",{attrs:{icon:e.leftDrawerVisible?"chevron-down":"chevron-up"}}),n("span",[e._v("Options / Player list")])],1)]),e.inGame?e._e():n("tomika-cards-games-selector")],1)},kn=[],Cn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tomika-cards-games-selector"},[n("div",{staticClass:"game-selector"},[n("transition",{attrs:{name:e.gameSelectionStep<e.gameSelectionPrevStep?"page-slide-right":"page-slide-left",mode:"out-in"}},[-1===e.gameSelectionStep?n("div",{key:-1},[n("h1",[e._v("Not connected")]),n("div",{staticStyle:{"text-align":"center"}},[e._v("Backend may not be available")])]):e._e(),0===e.gameSelectionStep?n("div",{key:0},[n("h1",[e._v("Select game")]),n("div",{staticClass:"game-list"},e._l(e.games,(function(t){return n("tomika-cards-game-details",{key:t.id,attrs:{game:t,clickable:!0},nativeOn:{click:function(n){return e.selectGame(t)}}})})),1),n("div",{staticClass:"create-game-button",on:{click:function(t){return e.$store.commit("cards/gameSelectionChangeStep",1)}}},[n("div",[n("font-awesome-icon",{attrs:{icon:"plus"}}),e._v(" Create new game")],1)])]):e._e(),1===e.gameSelectionStep?n("div",{key:1},[e.selectedGameId?n("tomika-cards-game-details",{attrs:{game:e.selectedGame}}):n("h1",[e._v("Create new game")]),n("div",{staticClass:"cards-form-row"},[n("div",[e._v("Nickname")]),n("div",[n("input",{attrs:{type:"text"},domProps:{value:e.chosenNickname},on:{input:function(t){return e.setChosenNickname(t.target.value)},keydown:function(t){return e.checkSubmit(t)}}})])]),!e.selectedGame||e.selectedGame.passwordProtected?n("div",{staticClass:"cards-form-row"},[n("div",[e._v("Password")]),n("div",[n("input",{attrs:{type:"text",placeholder:e.selectedGameId?"":"Leave blank for no password"},domProps:{value:e.password},on:{input:function(t){return e.setPassword(t.target.value)},keydown:function(t){return e.checkSubmit(t)}}})])]):e._e(),e.joinGameError?n("tomika-block-message",{attrs:{type:"error"}},[e._v(e._s(e.joinGameError))]):e._e(),n("div",{staticClass:"game-selection-confirm"},[n("span",{staticClass:"game-selection-cancel",on:{click:function(t){return e.$store.commit("cards/gameSelectionChangeStep",0)}}},[n("font-awesome-icon",{attrs:{icon:"chevron-left"}}),e._v(" Cancel ")],1),n("div"),n("button",{staticClass:"green",on:{click:e.createOrJoinSelectedGame}},[e._v(e._s(e.selectedGameId?"Join":"Create")+"!")])])],1):e._e()])],1)])},yn=[],wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-details",class:{joinable:e.clickable&&e.game.joinable,full:!e.game.joinable}},[n("tomika-cards-player-graphic",{attrs:{id:e.game.hostId,colour:e.game.hostColour}}),n("div",{staticClass:"game-middle-details"},[n("div",[e._v(e._s(e.game.hostNickname))]),n("div",[e.game.passwordProtected?n("font-awesome-icon",{staticStyle:{"margin-right":"4px"},attrs:{icon:"lock"}}):e._e(),e.game.inProgress?[e._v("In progress - round "+e._s(e.game.round)+"/"+e._s(e.game.totalRoundCount))]:e.game.joinable?[e._v("Joinable"),e.game.passwordProtected?[e._v(" - Password protected")]:e._e()]:[e._v("Game full")]],2)]),n("div",{staticClass:"game-player-count"},[n("span",[e._v(e._s(e.game.playersCount))]),n("font-awesome-icon",{attrs:{icon:"users"}})],1)],1)},_n=[],Sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ouistiti-player-graphic",class:e.colour.toLowerCase(),style:e.style},[n("font-awesome-icon",{attrs:{icon:e.icon}})],1)},On=[];r["c"].add(m["r"]);var In={name:"tomika-cards-player-graphic",props:{colour:{type:String,validator:function(e){return["red","yellow","green","cyan","blue","magenta","white","black"].indexOf(e.toLowerCase())>-1},default:"white"},id:String,small:{type:Boolean,default:!1}},computed:{icon:function(){if(!this.id)return["fa-tomika","spade"];var e=["fa-tomika","spade"];switch(Math.abs(this.id.charCodeAt(this.id.length-1)%4)){case 0:e=["fa-tomika","spade"];break;case 1:e="heart";break;case 2:e=["fa-tomika","club"];break;case 3:e=["fa-tomika","diamond"];break}return e},style:function(){return{width:(this.small?35:50)+"px",height:(this.small?35:50)+"px",fontSize:(this.small?16:24)+"px"}}}},xn=In,Nn=(n("9ef0"),Object(b["a"])(xn,Sn,On,!1,null,"5c70d678",null)),En=Nn.exports,Pn={name:"tomika-cards-game-details",components:{tomikaCardsPlayerGraphic:En},props:["game","clickable"]},jn=Pn,$n=(n("89a9"),Object(b["a"])(jn,wn,_n,!1,null,"563655ba",null)),Rn=$n.exports;r["c"].add(m["A"],m["u"],m["K"],m["g"],m["f"]);var Gn={name:"tomika-cards-games-selector",components:{tomikaCardsGameDetails:Rn,tomikaBlockMessage:Ft},computed:Object(U["a"])(Object(U["a"])({},Object(T["d"])("cards",["socket","games","gameSelectionStep","gameSelectionPrevStep","selectedGameId","chosenNickname","retrievedDiscordName","password","joinGameError","chosenNickname","password"])),Object(T["b"])("cards",["selectedGame"])),methods:Object(U["a"])(Object(U["a"])({},Object(T["c"])("cards",["gameSelectionChangeStep","setChosenNickname","setPassword","setRetrievedDiscordName"])),{},{checkSubmit:function(e){"Enter"===e.key&&this.createOrJoinSelectedGame()},createOrJoinSelectedGame:function(){this.selectedGameId?this.socket.emit("joinGame",{id:this.selectedGameId,nickname:this.chosenNickname,password:this.password}):this.socket.emit("createGame",{nickname:this.chosenNickname,password:this.password})},selectGame:function(e){e.joinable&&(this.$store.commit("cards/setSelectedGameId",e.id),this.gameSelectionChangeStep(1))}}),mounted:function(){var e=this;this.$store.getters["user/connected"]&&(this.setChosenNickname(this.$store.getters["user/name"]),this.setRetrievedDiscordName()),this.$watch((function(){return e.$store.getters["user/name"]}),(function(t){e.retrievedDiscordName||""!==e.chosenNickname||(e.setChosenNickname(t),e.setRetrievedDiscordName())}))}},Tn=Gn,Mn=(n("301e"),Object(b["a"])(Tn,Cn,yn,!1,null,"9924f868",null)),Dn=Mn.exports,An=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"scale-card",tag:"span"}},[n("div",{staticClass:"playing-card",class:{playable:e.card.playable},style:e.style,on:{click:e.clickCard}},[n("div",{staticClass:"animation"},[n("div",{staticClass:"inner",class:{faceDown:!e.card.faceUp},style:{backgroundPosition:e.valuePositions}})])])])},Un=[],Bn=["Ace","2","3","4","5","6","7","8","9","10","Jack","Queen","King"],Ln=["Clubs","Spades","Hearts","Diamonds"],Fn=71,qn=96,zn={name:"tomika-playing-card",props:{card:{type:Object,required:!0}},computed:Object(U["a"])(Object(U["a"])(Object(U["a"])({},Object(T["d"])("cards",["cardGroups","selfId","playerIdOrder"])),Object(T["b"])("cards",["cardGroupCards","playerCount","gameModule"])),{},{style:function(){return{width:Fn+"px",height:qn+"px",transform:"translate(calc(".concat(this.pos.x,"px - 50%), calc(").concat(this.pos.y,"px - 50%)) rotate(").concat(this.pos.r,"rad) scale(").concat(this.pos.scale,")"),"z-index":this.pos.z}},cardGroup:function(){return this.cardGroups[this.card.cardGroupId]},cardGroupLength:function(){return this.cardGroupCards(this.card.cardGroupId).length},cardIndex:function(){var e=this;return this.cardGroupCards(this.card.cardGroupId).findIndex((function(t){return t.cardId===e.card.cardId}))},relativePlayerIndex:function(){if(!this.cardGroup.playerId||this.cardGroup.playerId===this.selfId)return 0;var e=this.playerIdOrder.indexOf(this.cardGroup.playerId),t=this.playerIdOrder.indexOf(this.selfId);return(e+(this.playerIdOrder.length-t))%this.playerIdOrder.length},pos:function(){var e=0,t=0,n=this.cardIndex,a=0,o=1,i=this.$store.state.app.appWidth/2,s=this.$store.state.app.appHeight/2,r=20,c=this.cardGroupLength>1?this.cardIndex/(this.cardGroupLength-1):1;if("hand"===this.cardGroup.role&&this.cardGroup.playerId)if(this.cardGroup.playerId===this.selfId){o=Math.max(Math.min(i/s,1.2),.9);var l=this.cardGroupLength>=8?Math.PI/4:Math.PI/4/8*this.cardGroupLength,d=qn*o*(i<400?3:5);a=-(l/2-c*l);var u=Math.PI/2-l/2+c*l;e=-Math.cos(u)*d,t=s+(1-Math.sin(Math.PI/(i<400?8:12)))*d-Math.sin(u)*d}else{o=Math.max(Math.min(i/s,1),.7);var m=2===this.playerCount?Math.PI/2:Math.PI-Math.PI*((this.relativePlayerIndex-1)/(this.playerCount-2));a=-m-Math.PI/2;var p=Math.cos(m)*(i-qn/2*o-r),f=-Math.sin(m)*(s-qn/2*o-r),h=-(c*Math.min(this.cardGroupLength,8)-Math.min(this.cardGroupLength,8)/2)*(Fn/(i<400?6:4)),v=Math.tan(m+Math.PI/2);e=p+1/Math.sqrt(1+Math.pow(v,2))*h,t=f-v/Math.sqrt(1+Math.pow(v,2))*h}return{x:e,y:t,z:n,r:a,scale:o}},valuePositions:function(){var e="0px 0px";if(this.card.faceUp){var t=Bn.indexOf(this.card.value),n=Ln.indexOf(this.card.suit);t>-1&&n>-1&&(e=t*-(Fn-1)+"px "+n*-(qn-1)+"px")}return e}}),methods:{clickCard:function(){"function"===typeof this.gameModule.clickCard&&this.card.playable&&this.gameModule.clickCard(this.$store,this.card)}}},Hn=zn,Kn=(n("e936"),Object(b["a"])(Hn,An,Un,!1,null,"4f87ff19",null)),Wn=Kn.exports;r["c"].add(m["k"],m["d"],m["G"],m["h"],m["e"]);var Zn={name:"tomika-content-cards",components:{tomikaCardsGamesSelector:Dn,tomikaBlockMessage:Ft,tomikaCardsPlayerGraphic:En,tomikaPlayingCard:Wn},computed:Object(U["a"])(Object(U["a"])({},Object(T["d"])("cards",["socket","cards","hostId","playerIdOrder","chosenNickname","nicknameError","leftDrawerVisible","colours"])),Object(T["b"])("cards",["isHost","self","playerOrder","playerCount","inGame","takenColours"])),methods:Object(U["a"])(Object(U["a"])({},Object(T["c"])("cards",["setChosenNickname","setLeftDrawerVisible"])),{},{checkSubmit:function(e){"Enter"===e.key&&this.setNickname()},setNickname:function(){this.socket.emit("setNickname",{nickname:this.chosenNickname})},setColour:function(e,t){t||this.socket.emit("setColour",{colour:e})},reorderPlayers:function(e,t){var n={movingPlayerId:e,moveAfterPlayerId:t};e===this.playerIdOrder[0]&&(n.newFirstPlayerId=t),this.socket.emit("reorderPlayers",n)},leaveGame:function(){this.socket.emit("leaveGame")},startGame:function(){this.isHost&&this.socket.emit("startGame")}}),mounted:function(){this.$store.dispatch("cards/connect")},destroyed:function(){this.$store.dispatch("cards/disconnect")}},Vn=Zn,Yn=(n("dcc4"),Object(b["a"])(Vn,bn,kn,!1,null,"946d0016",null)),Jn=Yn.exports,Xn={name:"tomika-app",components:{tomikaNavBar:S,tomikaNavDrawer:P,tomikaPopupStack:ie,tomikaDiscordPane:Ce,tomikaTwitchPane:Ie,tomikaContent404:$e,tomikaContentUnauthorized:Ae,tomikaContentIndex:ct,tomikaContentStreamControl:ht,tomikaContentAdmin:on,tomikaContentUser:gn,tomikaContentCards:Jn},data:function(){return{}},computed:{contentComponent:function(){if(!this.$store.state.nav.content)return"div";var e=this.$store.state.nav.content,t=e.component,n=!1;for(var a in this.$options.components){if(n)break;this.$options.components[a].name===e.component&&(n=!0)}return n||(t={template:'<div>Component "'.concat(e.component,'" not registered</div>')}),"string"===typeof e.auth?this.$store.getters["user/hasPermission"](e.auth)||(t="tomika-content-unauthorized"):"function"===typeof e.auth&&(e.auth(this.$store)||(t="tomika-content-unauthorized")),t}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return me(),window.addEventListener("resize",(function(){e.$store.commit("app/setAppSize",{w:window.innerWidth,h:window.innerHeight-40})})),window.addEventListener("message",function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.data||!n.data.authSucceeded){t.next=4;break}return t.next=3,me();case 3:e.$store.commit("nav/setDiscordPaneOpen",!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=5,e.$store.dispatch("nav/switchContent",{pathname:window.location.pathname,pushState:!1});case 5:case"end":return t.stop()}}),t)})))()},methods:{positionPane:function(e,t){var n=document.querySelector("#"+e),a=document.querySelector("#"+t),o=window.innerWidth||document.body.clientWidth,i=o-(n.offsetLeft+n.offsetWidth/2),s=i-a.offsetWidth/2,r=Math.max(s,4);a.style.right=r+"px",a.querySelector(".chevron").style.right=i-r+"px"}}},Qn=Xn,ea=(n("8ba5"),Object(b["a"])(Qn,o,i,!1,null,null,null)),ta=ea.exports;a["a"].config.productionTip=!1,new a["a"]({store:J,render:function(e){return e(ta)}}).$mount("#app")},"5b12":function(e,t,n){"use strict";var a=n("e637"),o=n.n(a);o.a},"692a":function(e,t,n){},"6a22":function(e,t,n){},"7c54":function(e,t,n){},"7d10":function(e,t,n){},"7edb":function(e,t,n){},"89a9":function(e,t,n){"use strict";var a=n("267d"),o=n.n(a);o.a},"89af":function(e,t,n){},"8ba5":function(e,t,n){"use strict";var a=n("aea9"),o=n.n(a);o.a},"8be9":function(e,t,n){"use strict";var a=n("7c54"),o=n.n(a);o.a},"9ef0":function(e,t,n){"use strict";var a=n("ab1a"),o=n.n(a);o.a},a1e7:function(e,t,n){},a6fd:function(e,t,n){},ab1a:function(e,t,n){},adc8:function(e,t,n){},aea9:function(e,t,n){},befd:function(e,t,n){"use strict";var a=n("692a"),o=n.n(a);o.a},c3a0:function(e,t,n){"use strict";var a=n("c5e4"),o=n.n(a);o.a},c5e4:function(e,t,n){},c8c2:function(e,t,n){"use strict";var a=n("eb56"),o=n.n(a);o.a},ceac:function(e,t,n){"use strict";var a=n("6a22"),o=n.n(a);o.a},d32c:function(e,t,n){},db5c:function(e,t,n){},dcc4:function(e,t,n){"use strict";var a=n("1e0f"),o=n.n(a);o.a},e3c0:function(e,t,n){"use strict";var a=n("a6fd"),o=n.n(a);o.a},e5f5:function(e,t,n){"use strict";var a=n("a1e7"),o=n.n(a);o.a},e637:function(e,t,n){},e936:function(e,t,n){"use strict";var a=n("7d10"),o=n.n(a);o.a},eb56:function(e,t,n){},f2a3:function(e,t,n){},f973:function(e,t,n){},fcb4:function(e,t,n){"use strict";var a=n("f973"),o=n.n(a);o.a}});
//# sourceMappingURL=app.53bd0d82.js.map